{"version":3,"file":"../pages/index.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;AAMA,MAAMe,KAAiB,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAwB;AAChD,QAAM;AAAEC,IAAAA;AAAF,MAAYN,uDAAS,EAA3B;AACA,QAAM;AAAA,OAACO,MAAD;AAAA,OAASC;AAAT,MAAsBlB,+CAAQ,CAAC,EAAD,CAApC;AACA,QAAM;AACJmB,IAAAA,IAAI,EAAEC,OADF;AAEJC,IAAAA,UAAU,EAAEC,iBAFR;AAGJC,IAAAA;AAHI,MAIFhB,mDAAc,CACfO,KAAD,IAAY,gBAAeA,KAAK,GAAG,CAAE,WAAUG,MAAO,SAAQ,CAAAD,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAEQ,IAAP,KAAe,EAAG,EADhE,EAEhBhB,2DAFgB;AAIdiB,IAAAA,WAAW,EAAEV;AAJC,KAKXX,0DALW,EAJlB;AAaA,SACE;AAAA,eACE,4DAAC,mDAAD;AAAA,gBACE;AAAA;AAAA;AADF,MADF,EAIE,iEAAC,iEAAD;AAAA,iBACE;AAAI,iBAAS,EAAC,YAAd;AAAA;AAAA,QADF,EAEE,4DAAC,8EAAD;AAAa,qBAAa,EAAE,GAA5B;AAAiC,cAAM,EAAE;AAAzC,QAFF,EAGE;AAAI,iBAAS,EAAC,YAAd;AAAA;AAAA,QAHF,EAIE,4DAAC,yFAAD,KAJF,EAKE;AAAI,iBAAS,EAAC,YAAd;AAAA;AAAA,QALF,EAME,4DAAC,kFAAD,KANF,EAOE,4DAAC,2EAAD;AACE,yBAAiB,EAAEkB,iBADrB;AAEE,cAAM,EAAEL,MAFV;AAGE,iBAAS,EAAEC,SAHb;AAIE,eAAO,EAAEK,OAJX;AAKE,eAAO,EAAEH;AALX,QAPF;AAAA,MAJF;AAAA,IADF;AAsBD,CAtCD;;AAwCO,MAAMM,kBAAkB,GAAGzB,kGAAA,CAA4B0B,KAAD,IAAW,OAAO;AAAEC,EAAAA;AAAF,CAAP,KAAmB;AACzF,QAAMC,MAAM,GAAGD,GAAG,GAAGA,GAAG,CAACE,OAAJ,CAAYD,MAAf,GAAwB,EAA1C;AACA3B,EAAAA,sEAAA,GAAgC,EAAhC;;AACA,MAAI0B,GAAG,IAAIC,MAAX,EAAmB;AACjB3B,IAAAA,sEAAA,GAAgC2B,MAAhC;AACD;;AACD,QAAMF,KAAK,CAACM,QAAN,CAAe9B,yEAAiB,EAAhC,CAAN;AACA,MAAIY,cAAc,GAAG,MAAMP,+DAAO,CAAE,gBAAF,CAAlC;AACAO,EAAAA,cAAc,GAAG,CAACA,cAAD,CAAjB;AACA,SAAO;AACLmB,IAAAA,KAAK,EAAE;AAAEnB,MAAAA;AAAF;AADF,GAAP;AAGD,CAZiC,CAA3B;AAcP,iEAAeD,KAAf;;;;;;;AC1EA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA","sources":["webpack://fall-in-asia-clinet/./pages/index.tsx","webpack://fall-in-asia-clinet/external \"@ant-design/icons\"","webpack://fall-in-asia-clinet/external \"@emotion/react\"","webpack://fall-in-asia-clinet/external \"@emotion/react/jsx-runtime\"","webpack://fall-in-asia-clinet/external \"@emotion/styled/base\"","webpack://fall-in-asia-clinet/external \"@fortawesome/free-solid-svg-icons\"","webpack://fall-in-asia-clinet/external \"@fortawesome/react-fontawesome\"","webpack://fall-in-asia-clinet/external \"@reduxjs/toolkit\"","webpack://fall-in-asia-clinet/external \"antd\"","webpack://fall-in-asia-clinet/external \"axios\"","webpack://fall-in-asia-clinet/external \"dayjs\"","webpack://fall-in-asia-clinet/external \"dayjs/locale/ko\"","webpack://fall-in-asia-clinet/external \"dayjs/plugin/relativeTime\"","webpack://fall-in-asia-clinet/external \"next-redux-wrapper\"","webpack://fall-in-asia-clinet/external \"next/dist/server/denormalize-page-path.js\"","webpack://fall-in-asia-clinet/external \"next/dist/shared/lib/i18n/normalize-locale-path.js\"","webpack://fall-in-asia-clinet/external \"next/dist/shared/lib/mitt.js\"","webpack://fall-in-asia-clinet/external \"next/dist/shared/lib/router-context.js\"","webpack://fall-in-asia-clinet/external \"next/dist/shared/lib/router/utils/get-asset-path-from-route.js\"","webpack://fall-in-asia-clinet/external \"next/dist/shared/lib/router/utils/is-dynamic.js\"","webpack://fall-in-asia-clinet/external \"next/dist/shared/lib/router/utils/parse-relative-url.js\"","webpack://fall-in-asia-clinet/external \"next/dist/shared/lib/router/utils/querystring.js\"","webpack://fall-in-asia-clinet/external \"next/dist/shared/lib/router/utils/route-matcher.js\"","webpack://fall-in-asia-clinet/external \"next/dist/shared/lib/router/utils/route-regex.js\"","webpack://fall-in-asia-clinet/external \"next/dist/shared/lib/utils.js\"","webpack://fall-in-asia-clinet/external \"next/dynamic\"","webpack://fall-in-asia-clinet/external \"next/head\"","webpack://fall-in-asia-clinet/external \"next/router\"","webpack://fall-in-asia-clinet/external \"react\"","webpack://fall-in-asia-clinet/external \"react-quill\"","webpack://fall-in-asia-clinet/external \"react-redux\"","webpack://fall-in-asia-clinet/external \"react-slick\"","webpack://fall-in-asia-clinet/external \"react-toastify\"","webpack://fall-in-asia-clinet/external \"swiper/core\"","webpack://fall-in-asia-clinet/external \"swiper/react\"","webpack://fall-in-asia-clinet/external \"swr\""],"sourcesContent":["import React, { FC, useEffect, useState } from \"react\";\r\nimport { wrapper } from \"configureStore\";\r\nimport axios from \"axios\";\r\nimport { getUserInfoAction } from \"actions/user\";\r\nimport { noRevalidate } from \"config\";\r\nimport MomentList from \"@sections/MainPage/MomentList\";\r\nimport MomentPostingForm from \"@sections/MainPage/MomentPostingForm\";\r\nimport { useSWRInfinite } from \"swr\";\r\nimport fetcher from \"utils/fetcher\";\r\nimport MainLayout from \"@layout/MainLayout\";\r\nimport { useRouter } from \"next/router\";\r\nimport { IMoment } from \"@typings/db\";\r\nimport CountryList from \"@components/CountryPreviewSlide\";\r\nimport MainPopularArticleSlide from \"@sections/MainPage/MainPopularArticleSlide\";\r\nimport Head from \"next/head\";\r\n\r\ninterface IProps {\r\n  initialMoments: IMoment[][];\r\n}\r\n\r\nconst index: FC<IProps> = ({ initialMoments }) => {\r\n  const { query } = useRouter();\r\n  const [filter, setFilter] = useState(\"\");\r\n  const {\r\n    data: moments,\r\n    revalidate: revalidateMoments,\r\n    setSize,\r\n  } = useSWRInfinite<IMoment[]>(\r\n    (index) => `/moment?page=${index + 1}&filter=${filter}&type=${query?.type || \"\"}`,\r\n    fetcher,\r\n    {\r\n      initialData: initialMoments,\r\n      ...noRevalidate,\r\n    }\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <Head>\r\n        <title>Fall IN Asia</title>\r\n      </Head>\r\n      <MainLayout>\r\n        <h2 className=\"main-title\">인기 여행지</h2>\r\n        <CountryList slidesPerView={3.2} isMain={true} />\r\n        <h2 className=\"main-title\">인기 연대기</h2>\r\n        <MainPopularArticleSlide />\r\n        <h2 className=\"main-title\">포스팅</h2>\r\n        <MomentPostingForm />\r\n        <MomentList\r\n          revalidateMoments={revalidateMoments}\r\n          filter={filter}\r\n          setFilter={setFilter}\r\n          setSize={setSize}\r\n          moments={moments}\r\n        />\r\n      </MainLayout>\r\n    </>\r\n  );\r\n};\r\n\r\nexport const getServerSideProps = wrapper.getServerSideProps((store) => async ({ req }) => {\r\n  const cookie = req ? req.headers.cookie : \"\";\r\n  axios.defaults.headers.Cookie = \"\";\r\n  if (req && cookie) {\r\n    axios.defaults.headers.Cookie = cookie;\r\n  }\r\n  await store.dispatch(getUserInfoAction());\r\n  let initialMoments = await fetcher(`/moment?page=1`);\r\n  initialMoments = [initialMoments];\r\n  return {\r\n    props: { initialMoments },\r\n  };\r\n});\r\n\r\nexport default index;\r\n","module.exports = require(\"@ant-design/icons\");","module.exports = require(\"@emotion/react\");","module.exports = require(\"@emotion/react/jsx-runtime\");","module.exports = require(\"@emotion/styled/base\");","module.exports = require(\"@fortawesome/free-solid-svg-icons\");","module.exports = require(\"@fortawesome/react-fontawesome\");","module.exports = require(\"@reduxjs/toolkit\");","module.exports = require(\"antd\");","module.exports = require(\"axios\");","module.exports = require(\"dayjs\");","module.exports = require(\"dayjs/locale/ko\");","module.exports = require(\"dayjs/plugin/relativeTime\");","module.exports = require(\"next-redux-wrapper\");","module.exports = require(\"next/dist/server/denormalize-page-path.js\");","module.exports = require(\"next/dist/shared/lib/i18n/normalize-locale-path.js\");","module.exports = require(\"next/dist/shared/lib/mitt.js\");","module.exports = require(\"next/dist/shared/lib/router-context.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/get-asset-path-from-route.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/is-dynamic.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/parse-relative-url.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/querystring.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/route-matcher.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/route-regex.js\");","module.exports = require(\"next/dist/shared/lib/utils.js\");","module.exports = require(\"next/dynamic\");","module.exports = require(\"next/head\");","module.exports = require(\"next/router\");","module.exports = require(\"react\");","module.exports = require(\"react-quill\");","module.exports = require(\"react-redux\");","module.exports = require(\"react-slick\");","module.exports = require(\"react-toastify\");","module.exports = require(\"swiper/core\");","module.exports = require(\"swiper/react\");","module.exports = require(\"swr\");"],"names":["React","useState","wrapper","axios","getUserInfoAction","noRevalidate","MomentList","MomentPostingForm","useSWRInfinite","fetcher","MainLayout","useRouter","CountryList","MainPopularArticleSlide","Head","index","initialMoments","query","filter","setFilter","data","moments","revalidate","revalidateMoments","setSize","type","initialData","getServerSideProps","store","req","cookie","headers","defaults","Cookie","dispatch","props"],"sourceRoot":""}