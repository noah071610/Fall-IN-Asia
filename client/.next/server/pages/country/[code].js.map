{"version":3,"file":"../pages/country/[code].js","mappings":"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","sources":["webpack://fall-in-asia-clinet/./sections/MainPage/MainNewsCardSlide.tsx","webpack://fall-in-asia-clinet/./pages/country/[code]/index.tsx","webpack://fall-in-asia-clinet/external \"@ant-design/icons\"","webpack://fall-in-asia-clinet/external \"@emotion/react\"","webpack://fall-in-asia-clinet/external \"@emotion/react/jsx-runtime\"","webpack://fall-in-asia-clinet/external \"@emotion/styled/base\"","webpack://fall-in-asia-clinet/external \"@fortawesome/free-solid-svg-icons\"","webpack://fall-in-asia-clinet/external \"@fortawesome/react-fontawesome\"","webpack://fall-in-asia-clinet/external \"@reduxjs/toolkit\"","webpack://fall-in-asia-clinet/external \"antd\"","webpack://fall-in-asia-clinet/external \"axios\"","webpack://fall-in-asia-clinet/external \"dayjs\"","webpack://fall-in-asia-clinet/external \"dayjs/locale/ko\"","webpack://fall-in-asia-clinet/external \"dayjs/plugin/relativeTime\"","webpack://fall-in-asia-clinet/external \"next-redux-wrapper\"","webpack://fall-in-asia-clinet/external \"next/dist/server/denormalize-page-path.js\"","webpack://fall-in-asia-clinet/external \"next/dist/shared/lib/i18n/normalize-locale-path.js\"","webpack://fall-in-asia-clinet/external \"next/dist/shared/lib/mitt.js\"","webpack://fall-in-asia-clinet/external \"next/dist/shared/lib/router-context.js\"","webpack://fall-in-asia-clinet/external \"next/dist/shared/lib/router/utils/get-asset-path-from-route.js\"","webpack://fall-in-asia-clinet/external \"next/dist/shared/lib/router/utils/is-dynamic.js\"","webpack://fall-in-asia-clinet/external \"next/dist/shared/lib/router/utils/parse-relative-url.js\"","webpack://fall-in-asia-clinet/external \"next/dist/shared/lib/router/utils/querystring.js\"","webpack://fall-in-asia-clinet/external \"next/dist/shared/lib/router/utils/route-matcher.js\"","webpack://fall-in-asia-clinet/external \"next/dist/shared/lib/router/utils/route-regex.js\"","webpack://fall-in-asia-clinet/external \"next/dist/shared/lib/utils.js\"","webpack://fall-in-asia-clinet/external \"next/dynamic\"","webpack://fall-in-asia-clinet/external \"next/head\"","webpack://fall-in-asia-clinet/external \"next/router\"","webpack://fall-in-asia-clinet/external \"react\"","webpack://fall-in-asia-clinet/external \"react-quill\"","webpack://fall-in-asia-clinet/external \"react-redux\"","webpack://fall-in-asia-clinet/external \"react-slick\"","webpack://fall-in-asia-clinet/external \"react-toastify\"","webpack://fall-in-asia-clinet/external \"swr\""],"sourcesContent":["import { IArticle, ICountry } from \"@typings/db\";\r\nimport { FC, memo, useCallback, useState } from \"react\";\r\nimport useSWR from \"swr\";\r\nimport fetcher from \"utils/fetcher\";\r\nimport { noRevalidate, SM_SIZE } from \"config\";\r\nimport NewsCard from \"@components/Cards/NewsCard\";\r\nimport { NextArrow, PrevArrow } from \"@components/SliderArrow\";\r\nimport styled from \"@emotion/styled\";\r\nimport { FLEX_STYLE } from \"config\";\r\nimport tw from \"twin.macro\";\r\nimport Slider from \"react-slick\";\r\nimport { useRouter } from \"next/router\";\r\n\r\nconst MainNewsCardSlideWrapper = styled(Slider)`\r\n  .news-card-wrapper {\r\n    box-shadow: none;\r\n    border-radius: 15px;\r\n    &:hover {\r\n      box-shadow: none;\r\n    }\r\n  }\r\n  @media (max-width: ${SM_SIZE}) {\r\n    .news-card-wrapper {\r\n      .image-wrapper {\r\n        ${tw`h-48`}\r\n        border-top-left-radius: 15px;\r\n        border-top-right-radius: 15px;\r\n        img {\r\n          ${tw`h-48`}\r\n          border-top-left-radius: 15px;\r\n          border-top-right-radius: 15px;\r\n        }\r\n      }\r\n      .new-main {\r\n        ${tw`px-4`}\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\ninterface IProps {\r\n  news: IArticle[];\r\n}\r\n\r\nconst slideSettings = {\r\n  dots: false,\r\n  infinite: false,\r\n  slidesToShow: 1,\r\n  slidesToScroll: 1,\r\n  autoplay: false,\r\n  speed: 300,\r\n  nextArrow: <NextArrow />,\r\n  prevArrow: <PrevArrow />,\r\n};\r\n\r\nconst MainNewsCardSlide: FC<IProps> = ({ news }) => {\r\n  return (\r\n    <MainNewsCardSlideWrapper {...slideSettings}>\r\n      {news?.map((v, i) => {\r\n        return <NewsCard key={i} article={v} />;\r\n      })}\r\n    </MainNewsCardSlideWrapper>\r\n  );\r\n};\r\n\r\nexport default memo(MainNewsCardSlide);\r\n","import React, { FC, useEffect, useState } from \"react\";\r\nimport { wrapper } from \"configureStore\";\r\nimport axios from \"axios\";\r\nimport { getUserInfoAction } from \"actions/user\";\r\nimport { noRevalidate } from \"config\";\r\nimport MomentList from \"@sections/MainPage/MomentList\";\r\nimport MomentPostingForm from \"@sections/MainPage/MomentPostingForm\";\r\nimport useSWR, { useSWRInfinite } from \"swr\";\r\nimport fetcher from \"utils/fetcher\";\r\nimport MainLayout from \"@layout/MainLayout\";\r\nimport MainTopArticleSlide from \"@sections/MainPage/MainPopularArticleSlide\";\r\nimport { useRouter } from \"next/router\";\r\nimport { IArticle, ICountry, IMoment } from \"@typings/db\";\r\nimport MainNewsCardSlide from \"@sections/MainPage/MainNewsCardSlide\";\r\nimport Head from \"next/head\";\r\n\r\ninterface IProps {\r\n  initialMoments: IMoment[][];\r\n  initialCountry: ICountry;\r\n  initialNews: IArticle[];\r\n}\r\n\r\nconst index: FC<IProps> = ({ initialMoments, initialCountry, initialNews }) => {\r\n  const { query } = useRouter();\r\n  const [filter, setFilter] = useState(\"\");\r\n  const {\r\n    data: moments,\r\n    revalidate: revalidateMoments,\r\n    setSize,\r\n  } = useSWRInfinite<IMoment[]>(\r\n    (index) =>\r\n      `/moment?code=${query?.code || \"\"}&page=${index + 1}&filter=${filter}&type=${\r\n        query?.type || \"\"\r\n      }`,\r\n    fetcher,\r\n    {\r\n      initialData: initialMoments,\r\n      ...noRevalidate,\r\n    }\r\n  );\r\n  const { data: country } = useSWR<ICountry>(\r\n    query?.code ? `/country/${query?.code}` : null,\r\n    fetcher,\r\n    {\r\n      initialData: initialCountry,\r\n      ...noRevalidate,\r\n    }\r\n  );\r\n  const { data: news } = useSWR<IArticle[]>(`/article/popular?code=${query?.code}`, fetcher, {\r\n    initialData: initialNews,\r\n    ...noRevalidate,\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <Head>\r\n        <title>Fall IN Asia - {country?.name}</title>\r\n      </Head>\r\n      <MainLayout>\r\n        {news && news.length > 0 && (\r\n          <>\r\n            <h2 className=\"main-title\">{country?.name + \" 관련 소식 📢\"}</h2>\r\n            <MainNewsCardSlide news={news} />\r\n          </>\r\n        )}\r\n        <h2 className=\"main-title\">{country?.name + \" 인기 연대기\"}</h2>\r\n        <MainTopArticleSlide country={country} />\r\n        <h2 className=\"main-title\">포스팅</h2>\r\n        <MomentPostingForm />\r\n        <MomentList\r\n          revalidateMoments={revalidateMoments}\r\n          filter={filter}\r\n          setFilter={setFilter}\r\n          setSize={setSize}\r\n          moments={moments}\r\n        />\r\n      </MainLayout>\r\n    </>\r\n  );\r\n};\r\n\r\nexport const getServerSideProps = wrapper.getServerSideProps((store) => async ({ req, params }) => {\r\n  const cookie = req ? req.headers.cookie : \"\";\r\n  axios.defaults.headers.Cookie = \"\";\r\n  if (req && cookie) {\r\n    axios.defaults.headers.Cookie = cookie;\r\n  }\r\n  await store.dispatch(getUserInfoAction());\r\n  let initialMoments = await fetcher(`/moment?code=${params?.code}&page=1`);\r\n  initialMoments = [initialMoments];\r\n  const initialCountry = await fetcher(`/country/${params?.code}`);\r\n  const initialNews = await fetcher(`/article/popular?code=${params?.code}`);\r\n  return {\r\n    props: { initialMoments, initialCountry, initialNews },\r\n  };\r\n});\r\n\r\nexport default index;\r\n","module.exports = require(\"@ant-design/icons\");","module.exports = require(\"@emotion/react\");","module.exports = require(\"@emotion/react/jsx-runtime\");","module.exports = require(\"@emotion/styled/base\");","module.exports = require(\"@fortawesome/free-solid-svg-icons\");","module.exports = require(\"@fortawesome/react-fontawesome\");","module.exports = require(\"@reduxjs/toolkit\");","module.exports = require(\"antd\");","module.exports = require(\"axios\");","module.exports = require(\"dayjs\");","module.exports = require(\"dayjs/locale/ko\");","module.exports = require(\"dayjs/plugin/relativeTime\");","module.exports = require(\"next-redux-wrapper\");","module.exports = require(\"next/dist/server/denormalize-page-path.js\");","module.exports = require(\"next/dist/shared/lib/i18n/normalize-locale-path.js\");","module.exports = require(\"next/dist/shared/lib/mitt.js\");","module.exports = require(\"next/dist/shared/lib/router-context.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/get-asset-path-from-route.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/is-dynamic.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/parse-relative-url.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/querystring.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/route-matcher.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/route-regex.js\");","module.exports = require(\"next/dist/shared/lib/utils.js\");","module.exports = require(\"next/dynamic\");","module.exports = require(\"next/head\");","module.exports = require(\"next/router\");","module.exports = require(\"react\");","module.exports = require(\"react-quill\");","module.exports = require(\"react-redux\");","module.exports = require(\"react-slick\");","module.exports = require(\"react-toastify\");","module.exports = require(\"swr\");"],"names":["memo","SM_SIZE","NewsCard","NextArrow","PrevArrow","Slider","MainNewsCardSlideWrapper","slideSettings","dots","infinite","slidesToShow","slidesToScroll","autoplay","speed","nextArrow","prevArrow","MainNewsCardSlide","news","map","v","i","React","useState","wrapper","axios","getUserInfoAction","noRevalidate","MomentList","MomentPostingForm","useSWR","useSWRInfinite","fetcher","MainLayout","MainTopArticleSlide","useRouter","Head","index","initialMoments","initialCountry","initialNews","query","filter","setFilter","data","moments","revalidate","revalidateMoments","setSize","code","type","initialData","country","name","length","getServerSideProps","store","req","params","cookie","headers","defaults","Cookie","dispatch","props"],"sourceRoot":""}