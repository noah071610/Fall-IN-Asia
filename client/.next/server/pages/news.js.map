{"version":3,"file":"../pages/news.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;AAGO,MAAMC,uBAAuB,GAAG;AAAH;AAAA,2UAelBD,4BAAS,CAAC,IAAD,CAfS,qXAA7B;;;;ACHP;AACA;AACA;AACA;;AAMA,MAAMM,gBAA4B,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAiB;AACpD,QAAMC,uBAAuB,GAAGH,+BAAW,CAAC,MAAM;AAChDF,IAAAA,qBAAA,CAAa,SAAQI,OAAT,aAASA,OAAT,uBAASA,OAAO,CAAEG,EAAG,EAAjC;AACD,GAF0C,EAExC,EAFwC,CAA3C;AAGA,SACE,sBAAC,uBAAD;AAAyB,WAAO,EAAEF,uBAAlC;AAAA,eACE;AACE,eAAS,EAAC,YADZ;AAEE,WAAK,EAAE;AAAEG,QAAAA,eAAe,EAAG,OAAMJ,OAAO,SAAP,IAAAA,OAAO,WAAP,IAAAA,OAAO,CAAEK,SAAT,GAAqBL,OAAO,CAACK,SAA7B,GAAyCV,2BAAa;AAAhF;AAFT,MADF,EAKE;AAAK,eAAS,EAAC,WAAf;AAAA,iBACE;AAAA,kBAAKK,OAAL,aAAKA,OAAL,uBAAKA,OAAO,CAAEM;AAAd,QADF,EAEE;AAAA,kBAAKN,OAAL,aAAKA,OAAL,uBAAKA,OAAO,CAAEO;AAAd,QAFF;AAAA,MALF;AAAA,IADF;AAYD,CAhBD;;AAkBA,6DAAeR,gBAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5BA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMgC,eAAe,GAAG;AAAH;AAAA,+CAGRb,sBAHQ,gQAYbD,6BAAU,CAAC,MAAD,EAAS,SAAT,CAZG,gNAuBfD,6BAAU,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,CAvBK,8LAkCEG,sBAlCF,oKA6CEI,sBA7CF,wHAArB;;AA6DA,MAAMS,QAAQ,GAAG;AACfC,EAAAA,IAAI,EAAE,KADS;AAEfC,EAAAA,IAAI,EAAE,IAFS;AAGfC,EAAAA,QAAQ,EAAE,IAHK;AAIfC,EAAAA,KAAK,EAAE,GAJQ;AAKfC,EAAAA,QAAQ,EAAE,IALK;AAMfC,EAAAA,aAAa,EAAE,IANA;AAOfC,EAAAA,YAAY,EAAE,CAPC;AAQfC,EAAAA,cAAc,EAAE,CARD;AASfC,EAAAA,SAAS,EAAE,iBAAC,4BAAD,KATI;AAUfC,EAAAA,SAAS,EAAE,iBAAC,4BAAD;AAVI,CAAjB;;AAaA,MAAMC,KAAiB,GAAG,CAAC;AAAEC,EAAAA,eAAF;AAAmBC,EAAAA;AAAnB,CAAD,KAA8C;AACtE,QAAM;AAAA,OAACvC,IAAD;AAAA,OAAOwC;AAAP,MAAkBtC,4BAAQ,CAAC,MAAD,CAAhC;AACA,QAAM;AACJuC,IAAAA,IAAI,EAAEC,QADF;AAEJC,IAAAA,UAAU,EAAEC,kBAFR;AAGJC,IAAAA;AAHI,MAIFrC,gCAAc,CACf6B,KAAD,IAAY,iBAAgBA,KAAK,GAAG,CAAE,SAAQrC,IAAI,GAAG8C,kBAAkB,CAAC9C,IAAD,CAArB,GAA8B,EAAG,EADnE,EAEhBS,sBAFgB;AAIdsC,IAAAA,WAAW,EAAET;AAJC,KAKXvB,2BALW,EAJlB;AAaA,QAAM;AAAE0B,IAAAA,IAAI,EAAEO;AAAR,MAAyBzC,sBAAM,CAAc,kBAAd,EAAiCE,sBAAjC;AACnCsC,IAAAA,WAAW,EAAER;AADsB,KAEhCxB,2BAFgC,EAArC;AAKA,QAAMkC,WAAW,GAAGzD,+BAAW,CAAE0D,KAAD,IAAmB;AACjDV,IAAAA,OAAO,CAACU,KAAD,CAAP;AACD,GAF8B,EAE5B,EAF4B,CAA/B;AAGA,SACE;AAAA,eACE,iBAAC,gBAAD;AAAA,gBACE;AAAA;AAAA;AADF,MADF,EAIE,sBAAC,eAAD;AAAA,iBACE,sBAAC,gCAAD,kCAAYxB,QAAZ;AAAA,mBACE,iBAAC,yBAAD;AACE,eAAK,EAAC,uGADR;AAEE,cAAI,EAAC,GAFP;AAGE,eAAK,EAAC,uBAHR;AAIE,cAAI,EAAC;AAJP,UADF,EAOE,iBAAC,yBAAD;AACE,eAAK,EAAC,uGADR;AAEE,cAAI,EAAC,QAFP;AAGE,eAAK,EAAC,6BAHR;AAIE,cAAI,EAAC;AAJP,UAPF,EAaE,iBAAC,yBAAD;AACE,eAAK,EAAC,uGADR;AAEE,cAAI,EAAC,6CAFP;AAGE,eAAK,EAAC,kCAHR;AAIE,cAAI,EAAC;AAJP,UAbF;AAAA,SADF,EAqBE,iBAAC,4BAAD;AAAe,mBAAW,EAAEuB,WAA5B;AAAyC,cAAM,EAAEjD,IAAjD;AAAuD,YAAI,EAAEc,8BAAeA;AAA5E,QArBF,EAsBE;AAAM,iBAAS,EAAC,aAAhB;AAAA,mBACE;AAAI,mBAAS,EAAC,YAAd;AAAA,oBAA4Bd;AAA5B,UADF,EAEE;AAAK,mBAAS,EAAC,eAAf;AAAA,qBACG0C,QAAQ,IAAI,CAAAA,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAES,IAAV,GAAiBC,MAAjB,IAA0B,CAAtC,GACC,iBAAC,8BAAD;AAAiB,mBAAO,EAAEP,OAA1B;AAAmC,oBAAQ,EAAEH;AAA7C,YADD,GAGC;AAAK,qBAAS,EAAC,oBAAf;AAAA,uBACE;AAAK,iBAAG,EAAE1B,0BAAV;AAAuB,iBAAG,EAAC;AAA3B,cADF,EAEE;AAAA,0CAAQhB,IAAR;AAAA,cAFF;AAAA,YAJJ,EASGgD,YAAY,IACX;AAAO,qBAAS,EAAC,YAAjB;AAAA,sBACG,CAAAA,YAAY,SAAZ,IAAAA,YAAY,WAAZ,YAAAA,YAAY,CAAEI,MAAd,IAAuB,CAAvB,IACC;AAAA,yBACE;AAAI,yBAAS,EAAC,aAAd;AAAA;AAAA,gBADF,EAEE,iBAAC,sBAAD;AAAkB,uBAAO,EAAEJ,YAAY,CAAC,CAAD;AAAvC,gBAFF,EAGGA,YAHH,aAGGA,YAHH,uBAGGA,YAAY,CAAEK,KAAd,CAAoB,CAApB,EAAuBC,GAAvB,CAA2B,CAACC,CAAD,EAAIC,CAAJ,KAAU;AACpC,uBAAO,iBAAC,+BAAD;AAA0B,yBAAO,EAAED;AAAnC,mBAAuBC,CAAvB,CAAP;AACD,eAFA,CAHH;AAAA;AAFJ,YAVJ;AAAA,UAFF;AAAA,QAtBF;AAAA,MAJF;AAAA,IADF;AAwDD,CA/ED;;AAiFA,2CAAenB,KAAf;AAEO,MAAMoB,kBAAkB,GAAGpD,mEAAA,CAA4BqD,KAAD,IAAW,OAAO;AAAEC,EAAAA;AAAF,CAAP,KAAmB;AACzF,QAAMC,MAAM,GAAGD,GAAG,GAAGA,GAAG,CAACE,OAAJ,CAAYD,MAAf,GAAwB,EAA1C;AACAxD,EAAAA,kDAAA,GAAgC,EAAhC;;AACA,MAAIuD,GAAG,IAAIC,MAAX,EAAmB;AACjBxD,IAAAA,kDAAA,GAAgCwD,MAAhC;AACD;;AACD,QAAMF,KAAK,CAACM,QAAN,CAAe7D,kCAAiB,EAAhC,CAAN;AACA,MAAImC,eAAe,GAAG,MAAM7B,0BAAO,CAAE,iBAAF,CAAnC;AACA6B,EAAAA,eAAe,GAAG,CAACA,eAAD,CAAlB;AACA,QAAMC,mBAAmB,GAAG,MAAM9B,0BAAO,CAAE,kBAAF,CAAzC;AACA,SAAO;AACLwD,IAAAA,KAAK,EAAE;AAAE3B,MAAAA,eAAF;AAAmBC,MAAAA;AAAnB;AADF,GAAP;AAGD,CAbiC,CAA3B;;;;;;;;;;;;AC1LP;;AAEA,MAAM9B,OAAO,GAAIyD,GAAD,IACd9D,gDAAA,CACO8D,GADP,EACY;AACRE,EAAAA,eAAe,EAAE;AADT,CADZ,EAIGC,IAJH,CAISC,QAAD,IAAcA,QAAQ,CAAC7B,IAAT,CAAcA,IAJpC,CADF;;AAOA,iEAAehC,OAAf;;;;;;;ACTA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA","sources":["webpack://fall-in-asia-clinet/./components/Cards/ArticleImageCard/styles.tsx","webpack://fall-in-asia-clinet/./components/Cards/ArticleImageCard/index.tsx","webpack://fall-in-asia-clinet/./pages/news/index.tsx","webpack://fall-in-asia-clinet/./utils/fetcher.ts","webpack://fall-in-asia-clinet/external \"@emotion/react\"","webpack://fall-in-asia-clinet/external \"@emotion/react/jsx-runtime\"","webpack://fall-in-asia-clinet/external \"@emotion/styled/base\"","webpack://fall-in-asia-clinet/external \"@fortawesome/free-solid-svg-icons\"","webpack://fall-in-asia-clinet/external \"@fortawesome/react-fontawesome\"","webpack://fall-in-asia-clinet/external \"@reduxjs/toolkit\"","webpack://fall-in-asia-clinet/external \"axios\"","webpack://fall-in-asia-clinet/external \"dayjs\"","webpack://fall-in-asia-clinet/external \"next-redux-wrapper\"","webpack://fall-in-asia-clinet/external \"next/head\"","webpack://fall-in-asia-clinet/external \"next/router\"","webpack://fall-in-asia-clinet/external \"react\"","webpack://fall-in-asia-clinet/external \"react-slick\"","webpack://fall-in-asia-clinet/external \"react-toastify\"","webpack://fall-in-asia-clinet/external \"swiper/react\"","webpack://fall-in-asia-clinet/external \"swr\""],"sourcesContent":["import styled from \"@emotion/styled\";\r\nimport { RGB_BLACK, SM_SIZE } from \"config\";\r\nimport tw from \"twin.macro\";\r\n\r\nexport const ArticleImageCardWrapper = styled.div`\r\n  ${tw`relative overflow-hidden cursor-pointer rounded-md  mb-8`}\r\n  &:hover {\r\n    .card-image {\r\n      transform: scale(1.15);\r\n    }\r\n  }\r\n  .card-image {\r\n    ${tw`rounded-md w-full h-44`}\r\n    background-position: center;\r\n    background-repeat: no-repeat;\r\n    background-size: 100% 100%;\r\n    transition: 0.3s all;\r\n  }\r\n  .card-desc {\r\n    background: ${RGB_BLACK(0.45)};\r\n    ${tw`absolute bottom-0 left-0 w-full p-2 leading-5`}\r\n    h3 {\r\n      ${tw`mb-2`}\r\n      ${tw`text-xs text-white`}\r\n    }\r\n    h4 {\r\n      ${tw`text-sm font-bold text-white`}\r\n    }\r\n  }\r\n`;\r\n","import { IArticle, IStory } from \"@typings/db\";\r\nimport { NO_IMAGE_URL } from \"config\";\r\nimport router from \"next/router\";\r\nimport React, { FC, useCallback, useState } from \"react\";\r\nimport { ArticleImageCardWrapper } from \"./styles\";\r\n\r\ninterface IProps {\r\n  article: IArticle;\r\n}\r\n\r\nconst ArticleImageCard: FC<IProps> = ({ article }) => {\r\n  const onClickArticleImageCard = useCallback(() => {\r\n    router.push(`/news/${article?.id}`);\r\n  }, []);\r\n  return (\r\n    <ArticleImageCardWrapper onClick={onClickArticleImageCard}>\r\n      <div\r\n        className=\"card-image\"\r\n        style={{ backgroundImage: `url(${article?.thumbnail ? article.thumbnail : NO_IMAGE_URL})` }}\r\n      />\r\n      <div className=\"card-desc\">\r\n        <h3>{article?.type}</h3>\r\n        <h4>{article?.title}</h4>\r\n      </div>\r\n    </ArticleImageCardWrapper>\r\n  );\r\n};\r\n\r\nexport default ArticleImageCard;\r\n","import React, { FC, useCallback, useState } from \"react\";\r\nimport { getUserInfoAction } from \"actions/user\";\r\nimport axios from \"axios\";\r\nimport { wrapper } from \"configureStore\";\r\n\r\nimport PosterCard from \"@components/Cards/PosterCard\";\r\nimport useSWR, { useSWRInfinite } from \"swr\";\r\nimport { IArticle } from \"@typings/db\";\r\nimport fetcher from \"utils/fetcher\";\r\nimport {\r\n  FLEX_STYLE,\r\n  GRID_STYLE,\r\n  LG_SIZE,\r\n  MD_SIZE,\r\n  newsPageNavList,\r\n  noRevalidate,\r\n  NO_POST_URL,\r\n  SM_SIZE,\r\n} from \"config\";\r\nimport styled from \"@emotion/styled\";\r\nimport tw from \"twin.macro\";\r\nimport ArticleImageCard from \"@components/Cards/ArticleImageCard\";\r\nimport TopNavigation from \"@components/TopNavigation\";\r\nimport ArticleSmallCard from \"@components/Cards/ArticleSmallCard\";\r\nimport NewsArticleList from \"@sections/NewsPage/NewsArticleList\";\r\nimport Head from \"next/head\";\r\nimport { NextArrow, PrevArrow } from \"@components/SliderArrow\";\r\nimport Slider from \"react-slick\";\r\n\r\nconst NewsPageWrapper = styled.div`\r\n  padding-top: 4rem;\r\n  .news-layout {\r\n    width: ${LG_SIZE};\r\n    ${tw`mx-auto py-8`}\r\n    .main-title {\r\n      ${tw`text-base font-bold mt-8 mb-4`}\r\n    }\r\n    .main-title:first-of-type {\r\n      ${tw`mt-0 mb-4`}\r\n    }\r\n    .layout-divide {\r\n      ${GRID_STYLE(\"2rem\", \"3fr 1fr\")};\r\n    }\r\n  }\r\n  .news-aside {\r\n    .aside-title {\r\n      ${tw`text-base font-bold mb-4`}\r\n    }\r\n  }\r\n  .no-article-wrapper {\r\n    ${tw`rounded-xl select-none p-8 mt-8`}\r\n    height:500px;\r\n    ${FLEX_STYLE(\"center\", \"center\", \"column\")};\r\n    img {\r\n      ${tw`w-40 h-40 opacity-30 mb-4`}\r\n    }\r\n    h2 {\r\n      ${tw`text-base font-bold mb-4`}\r\n    }\r\n  }\r\n  .slick-active {\r\n    z-index: 999;\r\n  }\r\n  @media (max-width: ${MD_SIZE}) {\r\n    .news-layout {\r\n      ${tw`w-full px-2`};\r\n      .layout-divide {\r\n        ${tw`block w-full`}\r\n      }\r\n    }\r\n    .news-aside {\r\n      ${tw`hidden`}\r\n    }\r\n  }\r\n  @media (max-width: ${SM_SIZE}) {\r\n    .no-article-wrapper {\r\n      ${tw`p-0 mt-6`}\r\n      height:300px;\r\n      img {\r\n        ${tw`mb-3`}\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\ninterface IProps {\r\n  initialArticles: IArticle[][];\r\n  initialAsideArticle: IArticle[];\r\n}\r\n\r\nconst settings = {\r\n  dots: false,\r\n  fade: true,\r\n  infinite: true,\r\n  speed: 300,\r\n  autoplay: true,\r\n  autoplaySpeed: 5000,\r\n  slidesToShow: 1,\r\n  slidesToScroll: 1,\r\n  nextArrow: <NextArrow />,\r\n  prevArrow: <PrevArrow />,\r\n};\r\n\r\nconst index: FC<IProps> = ({ initialArticles, initialAsideArticle }) => {\r\n  const [type, setType] = useState(\"관광뉴스\");\r\n  const {\r\n    data: articles,\r\n    revalidate: revalidateArticles,\r\n    setSize,\r\n  } = useSWRInfinite<IArticle[]>(\r\n    (index) => `/article?page=${index + 1}&type=${type ? encodeURIComponent(type) : \"\"}`,\r\n    fetcher,\r\n    {\r\n      initialData: initialArticles,\r\n      ...noRevalidate,\r\n    }\r\n  );\r\n\r\n  const { data: asideArticle } = useSWR<IArticle[]>(`/article/popular`, fetcher, {\r\n    initialData: initialAsideArticle,\r\n    ...noRevalidate,\r\n  });\r\n\r\n  const onClickList = useCallback((value: string) => {\r\n    setType(value);\r\n  }, []);\r\n  return (\r\n    <>\r\n      <Head>\r\n        <title>Fall IN Asia - news</title>\r\n      </Head>\r\n      <NewsPageWrapper>\r\n        <Slider {...settings}>\r\n          <PosterCard\r\n            image=\"https://user-images.githubusercontent.com/74864925/129447142-48c58d87-d5e8-46ba-9052-8d1b8e1c383e.png\"\r\n            path=\"/\"\r\n            title=\"Share your infomation\"\r\n            desc=\"모멘트 : 여행이라는 망망대해에서 길을 잃었나요? 물어봐요! 돈드는거 아니잖아요~\"\r\n          />\r\n          <PosterCard\r\n            image=\"https://user-images.githubusercontent.com/74864925/129446624-f357679e-af98-41f7-a9ac-4f3dc434a551.png\"\r\n            path=\"/story\"\r\n            title=\"Leave and Share your memory\"\r\n            desc=\"연대기 : 당신의 여정에는 어떤 일이 있었나요?\"\r\n          />\r\n          <PosterCard\r\n            image=\"https://user-images.githubusercontent.com/74864925/129452165-e9675084-15d1-4891-a9cb-bae6bf9eaf33.png\"\r\n            link=\"https://www.0404.go.kr/dev/newest_list.mofa\"\r\n            title=\"I trust We can get over covid-19\"\r\n            desc=\"해외안전여행 : 외교부에서 코로나19 입국제한 여부를 확인하세요.\"\r\n          />\r\n        </Slider>\r\n        <TopNavigation onClickList={onClickList} filter={type} list={newsPageNavList} />\r\n        <main className=\"news-layout\">\r\n          <h2 className=\"main-title\">{type}</h2>\r\n          <div className=\"layout-divide\">\r\n            {articles && articles?.flat().length > 0 ? (\r\n              <NewsArticleList setSize={setSize} articles={articles} />\r\n            ) : (\r\n              <div className=\"no-article-wrapper\">\r\n                <img src={NO_POST_URL} alt=\"no-post-img\" />\r\n                <h2>아직 {type} 소식이 없어요.😥</h2>\r\n              </div>\r\n            )}\r\n            {asideArticle && (\r\n              <aside className=\"news-aside\">\r\n                {asideArticle?.length > 0 && (\r\n                  <>\r\n                    <h2 className=\"aside-title\">인기 소식</h2>\r\n                    <ArticleImageCard article={asideArticle[0]} />\r\n                    {asideArticle?.slice(1).map((v, i) => {\r\n                      return <ArticleSmallCard key={i} article={v} />;\r\n                    })}\r\n                  </>\r\n                )}\r\n              </aside>\r\n            )}\r\n          </div>\r\n        </main>\r\n      </NewsPageWrapper>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default index;\r\n\r\nexport const getServerSideProps = wrapper.getServerSideProps((store) => async ({ req }) => {\r\n  const cookie = req ? req.headers.cookie : \"\";\r\n  axios.defaults.headers.Cookie = \"\";\r\n  if (req && cookie) {\r\n    axios.defaults.headers.Cookie = cookie;\r\n  }\r\n  await store.dispatch(getUserInfoAction());\r\n  let initialArticles = await fetcher(`/article?page=1`);\r\n  initialArticles = [initialArticles];\r\n  const initialAsideArticle = await fetcher(`/article/popular`);\r\n  return {\r\n    props: { initialArticles, initialAsideArticle },\r\n  };\r\n});\r\n","import axios from \"axios\";\n\nconst fetcher = (url: string) =>\n  axios\n    .get(url, {\n      withCredentials: true,\n    })\n    .then((response) => response.data.data);\n\nexport default fetcher;\n","module.exports = require(\"@emotion/react\");","module.exports = require(\"@emotion/react/jsx-runtime\");","module.exports = require(\"@emotion/styled/base\");","module.exports = require(\"@fortawesome/free-solid-svg-icons\");","module.exports = require(\"@fortawesome/react-fontawesome\");","module.exports = require(\"@reduxjs/toolkit\");","module.exports = require(\"axios\");","module.exports = require(\"dayjs\");","module.exports = require(\"next-redux-wrapper\");","module.exports = require(\"next/head\");","module.exports = require(\"next/router\");","module.exports = require(\"react\");","module.exports = require(\"react-slick\");","module.exports = require(\"react-toastify\");","module.exports = require(\"swiper/react\");","module.exports = require(\"swr\");"],"names":["RGB_BLACK","ArticleImageCardWrapper","NO_IMAGE_URL","router","React","useCallback","ArticleImageCard","article","onClickArticleImageCard","push","id","backgroundImage","thumbnail","type","title","useState","getUserInfoAction","axios","wrapper","PosterCard","useSWR","useSWRInfinite","fetcher","FLEX_STYLE","GRID_STYLE","LG_SIZE","MD_SIZE","newsPageNavList","noRevalidate","NO_POST_URL","SM_SIZE","TopNavigation","ArticleSmallCard","NewsArticleList","Head","NextArrow","PrevArrow","Slider","NewsPageWrapper","settings","dots","fade","infinite","speed","autoplay","autoplaySpeed","slidesToShow","slidesToScroll","nextArrow","prevArrow","index","initialArticles","initialAsideArticle","setType","data","articles","revalidate","revalidateArticles","setSize","encodeURIComponent","initialData","asideArticle","onClickList","value","flat","length","slice","map","v","i","getServerSideProps","store","req","cookie","headers","defaults","Cookie","dispatch","props","url","get","withCredentials","then","response"],"sourceRoot":""}