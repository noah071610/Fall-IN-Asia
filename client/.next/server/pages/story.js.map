{"version":3,"file":"../pages/story.js","mappings":"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","sources":["webpack://fall-in-asia-clinet/./hooks/useOnScreen.ts","webpack://fall-in-asia-clinet/./sections/StoryPage/StoryPoster.tsx","webpack://fall-in-asia-clinet/./components/Cards/ArticleCard/styles.tsx","webpack://fall-in-asia-clinet/./components/Cards/ArticleCard/index.tsx","webpack://fall-in-asia-clinet/./pages/story/index.tsx","webpack://fall-in-asia-clinet/./utils/html2textConverter.ts","webpack://fall-in-asia-clinet/external \"@ant-design/icons\"","webpack://fall-in-asia-clinet/external \"@emotion/react\"","webpack://fall-in-asia-clinet/external \"@emotion/react/jsx-runtime\"","webpack://fall-in-asia-clinet/external \"@emotion/styled/base\"","webpack://fall-in-asia-clinet/external \"@reduxjs/toolkit\"","webpack://fall-in-asia-clinet/external \"axios\"","webpack://fall-in-asia-clinet/external \"dayjs\"","webpack://fall-in-asia-clinet/external \"dayjs/locale/ko\"","webpack://fall-in-asia-clinet/external \"dayjs/plugin/relativeTime\"","webpack://fall-in-asia-clinet/external \"next-redux-wrapper\"","webpack://fall-in-asia-clinet/external \"next/head\"","webpack://fall-in-asia-clinet/external \"next/router\"","webpack://fall-in-asia-clinet/external \"react\"","webpack://fall-in-asia-clinet/external \"react-redux\"","webpack://fall-in-asia-clinet/external \"react-toastify\"","webpack://fall-in-asia-clinet/external \"swiper/core\"","webpack://fall-in-asia-clinet/external \"swiper/react\"","webpack://fall-in-asia-clinet/external \"swr\""],"sourcesContent":["import { useState, useEffect } from \"react\";\r\n\r\nconst useOnScreen = (ref: any) => {\r\n  const [isIntersecting, setIntersecting] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const observer = new IntersectionObserver(([entry]) => setIntersecting(entry.isIntersecting));\r\n\r\n    observer.observe(ref.current);\r\n    return () => {\r\n      observer.disconnect();\r\n    };\r\n  }, []);\r\n\r\n  return isIntersecting;\r\n};\r\n\r\nexport default useOnScreen;\r\n","import React, { FC } from \"react\";\r\nimport styled from \"@emotion/styled\";\r\nimport { FLEX_STYLE, SM_SIZE } from \"config\";\r\nimport tw from \"twin.macro\";\r\n\r\ninterface IProps {\r\n  image?: string;\r\n  name?: string;\r\n}\r\nconst StoryPosterWrapper = styled.section`\r\n  ${tw`relative w-full h-80`}\r\n  background-repeat: no-repeat;\r\n  ${FLEX_STYLE(\"center\", \"center\")};\r\n  .title {\r\n    ${tw`text-3xl font-bold text-white cursor-pointer z-10`};\r\n  }\r\n  @media (max-width: ${SM_SIZE}) {\r\n    ${tw`h-52`}\r\n    .title {\r\n      ${tw`text-lg px-4 text-center`}\r\n    }\r\n  }\r\n`;\r\nconst StoryPoster: FC<IProps> = ({ name, image }) => {\r\n  return (\r\n    <StoryPosterWrapper\r\n      style={\r\n        image\r\n          ? {\r\n              background: `url(${image}\r\n          )`,\r\n              backgroundPosition: \"10% 40%\",\r\n              backgroundSize: \"100% 230%\",\r\n            }\r\n          : {\r\n              background: `url(https://user-images.githubusercontent.com/74864925/126781509-8008fa80-5bb8-4a90-bb9e-132357def1aa.jpg\r\n        )`,\r\n              backgroundPosition: \"top left\",\r\n              backgroundSize: \"100% 100%\",\r\n            }\r\n      }\r\n    >\r\n      <div className=\"overlay\" />\r\n      <h1 className=\"title\">\r\n        {name ? name + \" 연대기\" : \"당신의 여행에는 어떤 스토리가 있었나요?\"}\r\n      </h1>\r\n    </StoryPosterWrapper>\r\n  );\r\n};\r\n\r\nexport default StoryPoster;\r\n","import { css } from \"@emotion/react\";\r\nimport { ELLIPSIS_STYLE, FLEX_STYLE, GRID_STYLE } from \"config\";\r\nimport tw from \"twin.macro\";\r\n\r\nexport const ArticleCardWrapper = () => css`\r\n  ${tw`cursor-pointer mb-4`}\r\n  ${GRID_STYLE(\"2rem\", \"1.5fr 2.5fr\")}\r\n  &:hover {\r\n    .image-wrapper {\r\n      img {\r\n        transform: scale(1.15);\r\n      }\r\n    }\r\n  }\r\n  .image-wrapper {\r\n    ${tw`rounded-md overflow-hidden relative`};\r\n    img {\r\n      ${tw`rounded-md h-60 w-full`};\r\n      transition: 0.3s all;\r\n    }\r\n    .like-comment {\r\n      ${tw`absolute bottom-4 right-4 bg-white py-1 px-2 opacity-50 rounded-xl`}\r\n      li {\r\n        ${tw`p-1 cursor-pointer`}\r\n        .count {\r\n          margin: 0 0.3rem;\r\n        }\r\n        .anticon {\r\n          font-size: 1.2rem;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .story-info {\r\n    ${FLEX_STYLE(\"flex-start\", \"flex-end\")};\r\n  }\r\n  .story-content {\r\n    margin-top: 1rem;\r\n    ${ELLIPSIS_STYLE(1.8, 5, \"auto\")};\r\n  }\r\n  h2 {\r\n    ${tw`text-2xl font-bold mb-4 overflow-hidden`}\r\n    ${ELLIPSIS_STYLE(1.5, 1, \"auto\")};\r\n  }\r\n  @media (max-width: 1000px) {\r\n    ${GRID_STYLE(\"2rem\", \"repeat(2,1fr)\")}\r\n    h2 {\r\n      ${ELLIPSIS_STYLE(1.5, 2, \"auto\")};\r\n    }\r\n    .story-content {\r\n      ${ELLIPSIS_STYLE(1.8, 4, \"auto\")};\r\n    }\r\n  }\r\n`;\r\n","import { CommentOutlined, HeartOutlined } from \"@ant-design/icons\";\r\nimport NameSpace from \"@components/NameSpace\";\r\nimport { IStory } from \"@typings/db\";\r\nimport { NO_IMAGE_URL } from \"config\";\r\nimport { FC, useCallback } from \"react\";\r\nimport { ArticleCardWrapper } from \"./styles\";\r\nimport router from \"next/router\";\r\nimport html2textConverter from \"utils/html2textConverter\";\r\n\r\ninterface IProps {\r\n  story: IStory;\r\n}\r\n\r\nconst ArticleCard: FC<IProps> = ({ story }) => {\r\n  const onClickArticleCard = useCallback(() => {\r\n    router.push(`/story/${story?.code}/${story?.id}`);\r\n  }, [story]);\r\n\r\n  return (\r\n    <article\r\n      className=\"article-card-wrapper\"\r\n      css={ArticleCardWrapper()}\r\n      onClick={onClickArticleCard}\r\n    >\r\n      <div className=\"image-wrapper\">\r\n        <img src={story?.thumbnail ? story.thumbnail : NO_IMAGE_URL} alt=\"article-thumbnail\" />\r\n        <ul className=\"like-comment\">\r\n          <li>\r\n            <CommentOutlined />\r\n            <span className=\"count\">{story?.comments.length}</span>\r\n          </li>\r\n          <li>\r\n            <HeartOutlined />\r\n            <span className=\"count\">{story?.likedUser.length}</span>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div className=\"story-main\">\r\n        <h2>{story?.title}</h2>\r\n        <div className=\"story-info\">\r\n          <NameSpace date={story?.createdAt} user={story?.user} />\r\n        </div>\r\n        <div className=\"story-content\">{html2textConverter(story?.content)}</div>\r\n      </div>\r\n    </article>\r\n  );\r\n};\r\n\r\nexport default ArticleCard;\r\n","import React, { FC, useCallback, useEffect, useMemo, useState } from \"react\";\r\nimport styled from \"@emotion/styled\";\r\nimport XLGLayout from \"@layout/XLGLayout\";\r\nimport {\r\n  BORDER_THIN,\r\n  FLEX_STYLE,\r\n  LG_SIZE,\r\n  noRevalidate,\r\n  NO_POST_URL,\r\n  RGB_BLACK,\r\n  XLG_SIZE,\r\n} from \"config\";\r\nimport { wrapper } from \"configureStore\";\r\nimport { getUserInfoAction } from \"actions/user\";\r\nimport axios from \"axios\";\r\nimport router, { useRouter } from \"next/router\";\r\nimport useSWR, { useSWRInfinite } from \"swr\";\r\nimport { ICountry, IStory } from \"@typings/db\";\r\nimport fetcher from \"utils/fetcher\";\r\nimport CountryPreviewSlide from \"@components/CountryPreviewSlide\";\r\nimport StoryMainPoster from \"@sections/StoryPage/StoryPoster\";\r\nimport tw from \"twin.macro\";\r\nimport MainCountryAllview from \"@components/CountryAllview\";\r\nimport TopNavigation from \"@components/TopNavigation\";\r\nimport StoryArticleList from \"@sections/StoryPage/StoryArticleList\";\r\nimport ArticleCard from \"@components/Cards/ArticleCard\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { RootState } from \"slices\";\r\nimport ArticleColumnCard from \"@components/Cards/ArticleColumnCard\";\r\nimport Head from \"next/head\";\r\n\r\nconst StoryMainWrapper = styled.div`\r\n  padding-top: 4rem;\r\n  .country-list-wrapper {\r\n    ${tw`mx-auto py-4`}\r\n    width:${XLG_SIZE};\r\n  }\r\n  .story-top-section {\r\n    ${tw`pt-16`}\r\n  }\r\n  .more-story-btn {\r\n    ${tw`py-1 px-3 ml-4 rounded-lg text-xs font-bold hover:shadow-md`}\r\n    ${BORDER_THIN(\"border\")};\r\n  }\r\n  .popular-story-wrapper {\r\n    .article-card-wrapper {\r\n      ${tw`grid`}\r\n    }\r\n    .article-card-column-wrapper {\r\n      ${tw`hidden`}\r\n    }\r\n  }\r\n  .no-story-wrapper {\r\n    ${tw`rounded-xl select-none p-8 mt-8`}\r\n    height:500px;\r\n    ${FLEX_STYLE(\"center\", \"center\", \"column\")};\r\n    img {\r\n      ${tw`w-40 h-40 opacity-30 mb-4`}\r\n    }\r\n    h2 {\r\n      ${tw`text-base font-bold mb-4 text-center`}\r\n    }\r\n  }\r\n  @media (max-width: ${LG_SIZE}) {\r\n    .country-list-wrapper {\r\n      ${tw`px-2 w-full`}\r\n    }\r\n  }\r\n  @media (max-width: 460px) {\r\n    .popular-story-wrapper {\r\n      .article-card-wrapper {\r\n        ${tw`hidden`}\r\n      }\r\n      .article-card-column-wrapper {\r\n        ${tw`block`}\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\ninterface IProps {\r\n  initiaStories: IStory[][];\r\n  initialPopularStories: IStory[];\r\n}\r\n\r\nconst index: FC<IProps> = ({ initiaStories, initialPopularStories }) => {\r\n  const { query } = useRouter();\r\n  const { user } = useSelector((state: RootState) => state.user);\r\n  const [filter, setFilter] = useState(\"\");\r\n  const [onAllCountries, setAllCountries] = useState(false);\r\n  const [onMorePopularStory, setOnMorePopularStory] = useState(false);\r\n  const { data: popularStories } = useSWR<IStory[]>(\"/story/popular\", fetcher, {\r\n    initialData: initialPopularStories,\r\n    ...noRevalidate,\r\n  });\r\n  const { data: stories, setSize } = useSWRInfinite<IStory[]>(\r\n    (index) =>\r\n      `/story?page=${index + 1}&code=${query?.country || \"\"}&filter=${\r\n        filter === \"country\" ? \"\" : filter\r\n      }`,\r\n    fetcher,\r\n    {\r\n      initialData: initiaStories,\r\n      ...noRevalidate,\r\n    }\r\n  );\r\n\r\n  const storyPageNav = useMemo(() => {\r\n    const nav_list = [\r\n      { name: \"인기순\", value: \"popular\" },\r\n      { name: \"최신순\", value: \"\" },\r\n      { name: \"댓글많은순\", value: \"comment\" },\r\n      { name: \"조회순\", value: \"view\" },\r\n    ];\r\n    if (query?.country) {\r\n      nav_list.push({ name: \"국가전체보기\", value: \"all_country\" });\r\n    } else {\r\n      nav_list.push({ name: \"국가선택\", value: \"country\" });\r\n    }\r\n    if (user) {\r\n      nav_list.push({ name: \"연대기올리기\", value: \"post\" });\r\n    }\r\n    return nav_list;\r\n  }, [query, user]);\r\n\r\n  const { data: countries } = useSWR<ICountry[]>(`/country`, fetcher, noRevalidate);\r\n\r\n  const { data: country } = useSWR<ICountry>(\r\n    query?.country ? `/country/${query?.country}` : null,\r\n    fetcher,\r\n    noRevalidate\r\n  );\r\n\r\n  useEffect(() => {\r\n    setAllCountries(false);\r\n    setFilter(\"\");\r\n  }, [query]);\r\n\r\n  const onClickList = useCallback((value: string) => {\r\n    if (value === \"all_country\") {\r\n      router.push(\"/story\");\r\n      return;\r\n    }\r\n    if (value === \"post\") {\r\n      router.push(\"/story/post\");\r\n      return;\r\n    }\r\n    setFilter(value);\r\n    if (value === \"country\") {\r\n      setAllCountries((prev) => !prev);\r\n      scrollTo({ top: 461 });\r\n      return;\r\n    }\r\n    setAllCountries(false);\r\n  }, []);\r\n\r\n  const onClickMorePopularStoryBtn = useCallback(() => {\r\n    setOnMorePopularStory(true);\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Head>\r\n        <title>Fall IN Asia - story</title>\r\n      </Head>\r\n      <StoryMainWrapper>\r\n        <StoryMainPoster name={country?.name} image={country?.image_src} />\r\n        {!query?.country && (\r\n          <div className=\"country-list-wrapper\">\r\n            <CountryPreviewSlide slidesPerView={6.2} isMain={false} />\r\n          </div>\r\n        )}\r\n        <TopNavigation filter={filter} onClickList={onClickList} list={storyPageNav} />\r\n        <XLGLayout>\r\n          {onAllCountries && (\r\n            <>\r\n              <h2 className=\"main-title\">국가선택</h2>\r\n              <MainCountryAllview isMain={false} countries={countries} />\r\n            </>\r\n          )}\r\n          <h2 style={{ display: \"flex\", alignItems: \"center\" }} className=\"main-title\">\r\n            인기연대기\r\n            {popularStories && !onMorePopularStory && popularStories?.length > 1 && (\r\n              <button className=\"more-story-btn\" onClick={onClickMorePopularStoryBtn}>\r\n                더보기\r\n              </button>\r\n            )}\r\n          </h2>\r\n          {popularStories && (\r\n            <>\r\n              <div className=\"popular-story-wrapper\">\r\n                <ArticleCard story={popularStories[0]} />\r\n                <ArticleColumnCard story={popularStories[0]} />\r\n                {onMorePopularStory &&\r\n                  popularStories?.slice(1).map((v, i) => {\r\n                    return <ArticleCard key={i} story={v} />;\r\n                  })}\r\n                {onMorePopularStory &&\r\n                  popularStories?.slice(1).map((v, i) => {\r\n                    return <ArticleColumnCard key={i} story={v} />;\r\n                  })}\r\n              </div>\r\n            </>\r\n          )}\r\n          <h2 className=\"main-title\">연대기</h2>\r\n          {stories && stories?.flat().length > 0 ? (\r\n            <StoryArticleList grid={4} gap=\"1.5rem\" setSize={setSize} stories={stories} />\r\n          ) : (\r\n            <div className=\"no-story-wrapper\">\r\n              <img src={NO_POST_URL} alt=\"no-post-img\" />\r\n              <h2>연대기가 없습니다. 첫 연대기에 주인공이 되어주세요!</h2>\r\n              <button className=\"story-post-btn\" onClick={() => router.push(\"/story/post\")}>\r\n                연대기 올리기\r\n              </button>\r\n            </div>\r\n          )}\r\n        </XLGLayout>\r\n      </StoryMainWrapper>\r\n    </>\r\n  );\r\n};\r\n\r\nexport const getServerSideProps = wrapper.getServerSideProps(\r\n  (store) =>\r\n    async ({ req, res, ...etc }) => {\r\n      const cookie = req ? req.headers.cookie : \"\";\r\n      axios.defaults.headers.Cookie = \"\";\r\n      if (req && cookie) {\r\n        axios.defaults.headers.Cookie = cookie;\r\n      }\r\n      await store.dispatch(getUserInfoAction());\r\n      let initialStories = await fetcher(`/story?page=1`);\r\n      initialStories = [initialStories];\r\n      let initialPopularStories = await fetcher(`/story/popular`);\r\n      return {\r\n        props: { initialStories, initialPopularStories },\r\n      };\r\n    }\r\n);\r\n\r\nexport default index;\r\n","export default function html2textConverter(content?: string): string {\r\n  return content?.replace(/(<([^>]+)>)/gi, \"\").replaceAll(/&nbsp;|&amp;/gi, \"\") || \"\";\r\n}\r\n","module.exports = require(\"@ant-design/icons\");","module.exports = require(\"@emotion/react\");","module.exports = require(\"@emotion/react/jsx-runtime\");","module.exports = require(\"@emotion/styled/base\");","module.exports = require(\"@reduxjs/toolkit\");","module.exports = require(\"axios\");","module.exports = require(\"dayjs\");","module.exports = require(\"dayjs/locale/ko\");","module.exports = require(\"dayjs/plugin/relativeTime\");","module.exports = require(\"next-redux-wrapper\");","module.exports = require(\"next/head\");","module.exports = require(\"next/router\");","module.exports = require(\"react\");","module.exports = require(\"react-redux\");","module.exports = require(\"react-toastify\");","module.exports = require(\"swiper/core\");","module.exports = require(\"swiper/react\");","module.exports = require(\"swr\");"],"names":["useState","useEffect","useOnScreen","ref","isIntersecting","setIntersecting","observer","IntersectionObserver","entry","observe","current","disconnect","React","FLEX_STYLE","SM_SIZE","StoryPosterWrapper","StoryPoster","name","image","background","backgroundPosition","backgroundSize","css","ELLIPSIS_STYLE","GRID_STYLE","ArticleCardWrapper","CommentOutlined","HeartOutlined","NameSpace","NO_IMAGE_URL","useCallback","router","html2textConverter","ArticleCard","story","onClickArticleCard","push","code","id","thumbnail","comments","length","likedUser","title","createdAt","user","content","useMemo","XLGLayout","BORDER_THIN","LG_SIZE","noRevalidate","NO_POST_URL","XLG_SIZE","wrapper","getUserInfoAction","axios","useRouter","useSWR","useSWRInfinite","fetcher","CountryPreviewSlide","StoryMainPoster","MainCountryAllview","TopNavigation","StoryArticleList","useSelector","ArticleColumnCard","Head","StoryMainWrapper","index","initiaStories","initialPopularStories","query","state","filter","setFilter","onAllCountries","setAllCountries","onMorePopularStory","setOnMorePopularStory","data","popularStories","initialData","stories","setSize","country","storyPageNav","nav_list","value","countries","onClickList","prev","scrollTo","top","onClickMorePopularStoryBtn","image_src","display","alignItems","slice","map","v","i","flat","getServerSideProps","store","req","res","etc","cookie","headers","defaults","Cookie","dispatch","initialStories","props","replace","replaceAll"],"sourceRoot":""}