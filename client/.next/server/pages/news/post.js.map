{"version":3,"file":"../pages/news/post.js","mappings":"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","sources":["webpack://fall-in-asia-clinet/./pages/news/post.tsx","webpack://fall-in-asia-clinet/external \"@emotion/react/jsx-runtime\"","webpack://fall-in-asia-clinet/external \"@emotion/styled/base\"","webpack://fall-in-asia-clinet/external \"@reduxjs/toolkit\"","webpack://fall-in-asia-clinet/external \"antd\"","webpack://fall-in-asia-clinet/external \"axios\"","webpack://fall-in-asia-clinet/external \"next-redux-wrapper\"","webpack://fall-in-asia-clinet/external \"next/router\"","webpack://fall-in-asia-clinet/external \"react\"","webpack://fall-in-asia-clinet/external \"react-map-gl\"","webpack://fall-in-asia-clinet/external \"react-map-gl-geocoder\"","webpack://fall-in-asia-clinet/external \"react-redux\"","webpack://fall-in-asia-clinet/external \"react-toastify\"","webpack://fall-in-asia-clinet/external \"swr\""],"sourcesContent":["import React, { FC, useCallback, useEffect, useMemo, useState } from \"react\";\r\nimport styled from \"@emotion/styled\";\r\nimport LGLayout from \"@layout/LGLayout\";\r\nimport Editor from \"@components/Editor/Editor\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { RootState } from \"slices\";\r\nimport {\r\n  BORDER_THIN,\r\n  FLEX_STYLE,\r\n  noRevalidate,\r\n  toastErrorMessage,\r\n  toastSuccessMessage,\r\n} from \"config\";\r\nimport router, { useRouter } from \"next/router\";\r\nimport CountrySelectMap from \"@components/Maps/CountrySelectMap\";\r\nimport AutoCompleteForm from \"@components/AutoCompleteForm\";\r\nimport useSWR from \"swr\";\r\nimport { ICoordinate, ICountry, IArticle } from \"@typings/db\";\r\nimport fetcher from \"utils/fetcher\";\r\nimport ImageDragger from \"@components/Editor/ImageDragger\";\r\nimport useInput from \"@hooks/useInput\";\r\nimport { toastConfirmMessage } from \"@components/ConfirmToastify\";\r\nimport tw from \"twin.macro\";\r\nimport { Select } from \"antd\";\r\nimport { wrapper } from \"configureStore\";\r\nimport axios from \"axios\";\r\nimport { getUserInfoAction } from \"actions/user\";\r\nimport { UploadFile } from \"antd/lib/upload/interface\";\r\nconst { Option } = Select;\r\n\r\nexport const ArticlePostWrapper = styled.div`\r\n  .title-input {\r\n    padding: 0.63rem 1rem;\r\n  }\r\n  .option-input {\r\n    ${tw`py-2 px-4 w-1/2`}\r\n  }\r\n  .autoComplete-form {\r\n    width: 20%;\r\n  }\r\n  .editor-btn-wrapper {\r\n    margin-top: 1rem;\r\n    ${FLEX_STYLE(\"flex-end\", \"center\")}\r\n    button {\r\n      ${tw`bg-white py-3 px-6 font-bold ml-2 rounded-xl hover:shadow-md`}\r\n      ${BORDER_THIN(\"border\")};\r\n      transition: 0.3s all;\r\n    }\r\n  }\r\n  .mapboxgl-ctrl-geocoder--button {\r\n    ${tw`rounded-full`}\r\n  }\r\n  .dragger {\r\n    height: 40vh;\r\n  }\r\n`;\r\ninterface IProps {}\r\n\r\nconst post: FC<IProps> = () => {\r\n  const { query } = useRouter();\r\n  const { user } = useSelector((state: RootState) => state.user);\r\n  const { data: editArticle } = useSWR<IArticle>(\r\n    query?.articleId ? `/article/${query?.articleId}` : null,\r\n    fetcher,\r\n    noRevalidate\r\n  );\r\n  const { data: countries } = useSWR<ICountry[]>(\"/country\", fetcher, noRevalidate);\r\n  const [type, setType] = useState(\"타입 선택\");\r\n  const [selectedCountry, setCountry] = useState(\"\");\r\n  const [title, onChangeTitle, setTitle] = useInput(\"\");\r\n  const [label, onChangeLabel, setLabel] = useInput<Number | string>(\"\");\r\n  const [prevThumbnail, setPrevThumbnail] = useState<string>();\r\n  const [fileList, setFileList] = useState<UploadFile[]>([]);\r\n  const [ranking, onChangeRanking, setRanking] = useInput(\"\");\r\n  const [region, setRegion] = useState(\"이름모를 어딘가\");\r\n  const [upImg, setUpImg] = useState(\"\");\r\n  const [content, setContent] = useState(\"\");\r\n  const [editPostId, setEditPostId] = useState<number | null>(null);\r\n  const [marker, setMarker] = useState<ICoordinate>({\r\n    latitude: 37.50529626491968,\r\n    longitude: 126.98047832475031,\r\n  });\r\n\r\n  const countryOptions = useMemo(\r\n    () =>\r\n      countries?.map((v, i) => {\r\n        return { value: v.name, code: v.code };\r\n      }),\r\n    [countries]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (editArticle) {\r\n      setRegion(editArticle?.region);\r\n      setTitle(editArticle?.title);\r\n      setType(editArticle?.type);\r\n      setContent(editArticle?.content);\r\n      setCountry(editArticle?.country?.name);\r\n      setEditPostId(editArticle?.id);\r\n      setMarker({\r\n        latitude: editArticle?.lat,\r\n        longitude: editArticle?.lng,\r\n      });\r\n      setLabel(editArticle?.label || \"\");\r\n      setRanking(editArticle?.ranking || \"\");\r\n      if (editArticle?.thumbnail) {\r\n        setFileList([{ uid: `1`, name: `썸네일`, status: \"done\", url: editArticle.thumbnail }]);\r\n        setPrevThumbnail(editArticle.thumbnail);\r\n      }\r\n    }\r\n  }, [editArticle]);\r\n\r\n  useEffect(() => {\r\n    if (!user) {\r\n      router.back();\r\n    }\r\n    if (editArticle) {\r\n      if (user?.id !== editArticle?.user?.id) {\r\n        router.back();\r\n      }\r\n    }\r\n  }, [user, editArticle]);\r\n\r\n  const onClickSubmit = useCallback(() => {\r\n    if (!title) {\r\n      toastErrorMessage(\"제목을 작성해주세요.\");\r\n      return;\r\n    }\r\n    if (!region) {\r\n      toastErrorMessage(\"지도에서 지역을 선택해주세요.\");\r\n      return;\r\n    }\r\n    if (!content) {\r\n      toastErrorMessage(\"내용을 작성해주세요.\");\r\n      return;\r\n    }\r\n    if (type === \"타입 선택\") {\r\n      toastErrorMessage(\"타입을 선택해주세요.\");\r\n      return;\r\n    }\r\n    let form: FormData = new FormData();\r\n    if (upImg) {\r\n      form.append(\"image\", upImg);\r\n    }\r\n    if (label) {\r\n      form.append(\"label\", String(label));\r\n    }\r\n    if (ranking) {\r\n      form.append(\"ranking\", String(ranking));\r\n    }\r\n    form.append(\"title\", String(title));\r\n    form.append(\"region\", String(region));\r\n    form.append(\"type\", String(type));\r\n    form.append(\"content\", String(content));\r\n    form.append(\"lat\", String(marker.latitude));\r\n    form.append(\"lng\", String(marker.longitude));\r\n\r\n    let pickCountry = countryOptions?.find((v) => v.value === selectedCountry);\r\n    if (pickCountry) {\r\n      form.append(\"code\", String(pickCountry.code));\r\n    } else {\r\n      toastErrorMessage(\"유효하지 않은 국가입니다. 다시 확인해주세요.\");\r\n      return;\r\n    }\r\n    if (editArticle) {\r\n      form.append(\"articleId\", String(editArticle?.id));\r\n    }\r\n    axios\r\n      .post(`/article/${editArticle ? \"edit\" : \"\"}`, form)\r\n      .then((res) => {\r\n        const { articleId } = res.data.data;\r\n        router.push(`/news/${articleId}`);\r\n        setRegion(\"\");\r\n        setUpImg(\"\");\r\n        setTitle(\"\");\r\n        setType(\"타입 선택\");\r\n        setContent(\"\");\r\n        setCountry(\"\");\r\n        setLabel(\"\");\r\n        setRanking(\"\");\r\n        if (editArticle) {\r\n          toastSuccessMessage(\"기사를 수정했습니다.\");\r\n        } else {\r\n          toastSuccessMessage(\"기사를 성공적으로 작성했습니다.\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        toastErrorMessage(error);\r\n        throw error;\r\n      });\r\n  }, [\r\n    title,\r\n    region,\r\n    countryOptions,\r\n    selectedCountry,\r\n    content,\r\n    upImg,\r\n    marker,\r\n    editArticle,\r\n    type,\r\n    label,\r\n    ranking,\r\n  ]);\r\n\r\n  const handleTypeChange = useCallback((value: string) => {\r\n    setType(value);\r\n  }, []);\r\n\r\n  return (\r\n    <ArticlePostWrapper>\r\n      <LGLayout>\r\n        <h2 className=\"main-title\">제목</h2>\r\n        <input\r\n          value={title}\r\n          onChange={onChangeTitle}\r\n          placeholder=\"기사 제목 입력\"\r\n          className=\"basic-input title-input\"\r\n          type=\"text\"\r\n        />\r\n        <h2 className=\"main-title\">국가 지정</h2>\r\n        <AutoCompleteForm\r\n          countryOptions={countryOptions}\r\n          selectedCountry={selectedCountry}\r\n          setCountry={setCountry}\r\n        />\r\n        <h2 className=\"main-title\">라벨 설정(선택사항)</h2>\r\n        <input\r\n          value={label}\r\n          onChange={onChangeLabel}\r\n          placeholder=\"라벨 내용 입력\"\r\n          className=\"basic-input option-input\"\r\n          type=\"text\"\r\n        />\r\n        <h2 className=\"main-title\">순위 설정(선택사항)</h2>\r\n        <input\r\n          value={ranking}\r\n          onChange={onChangeRanking}\r\n          placeholder=\"숫자를 입력하세요\"\r\n          className=\"basic-input option-input\"\r\n          type=\"number\"\r\n        />\r\n        <h2 className=\"main-title\">타입 지정</h2>\r\n        <Select\r\n          className=\"type-selector\"\r\n          value={type}\r\n          onChange={handleTypeChange}\r\n          style={{ width: \"180px\" }}\r\n        >\r\n          <Option value=\"관광뉴스\">관광뉴스</Option>\r\n          <Option value=\"트렌드\">트렌드</Option>\r\n          <Option value=\"쇼핑\">쇼핑</Option>\r\n          <Option value=\"이색체험\">이색체험</Option>\r\n          <Option value=\"이벤트\">이벤트</Option>\r\n        </Select>\r\n        <h2 className=\"main-title\">지역 지정</h2>\r\n        <CountrySelectMap\r\n          lat={editArticle?.lat}\r\n          lng={editArticle?.lng}\r\n          marker={marker}\r\n          setMarker={setMarker}\r\n          setRegion={setRegion}\r\n        />\r\n        <h2 className=\"main-title\">선택 지역</h2>\r\n        <h3>{region}</h3>\r\n        <h2 className=\"main-title\">내용작성</h2>\r\n        <Editor prevContent={editArticle?.content} setContent={setContent} isStory={true} />\r\n        <h2 className=\"main-title\">\r\n          {editPostId ? \"썸네일 변경 (미선택시 기존 썸네일 사용)\" : \"썸네일 업로드\"}\r\n        </h2>\r\n        <ImageDragger\r\n          fileList={fileList}\r\n          setFileList={setFileList}\r\n          setPrevImageList={setPrevThumbnail}\r\n          setUpImg={setUpImg}\r\n          single={true}\r\n        />\r\n        <div className=\"editor-btn-wrapper\">\r\n          <button onClick={() => router.back()}>뒤로가기</button>\r\n          <button\r\n            onClick={() => {\r\n              if (\r\n                marker.latitude === 37.50529626491968 &&\r\n                marker.longitude === 126.98047832475031\r\n              ) {\r\n                toastConfirmMessage(\r\n                  onClickSubmit,\r\n                  \"지역 좌표를 입력하지 않으셨어요, 이상태로 진행할까요? (현재 좌표 : 대한민국 서울 , 이름모를 어딘가)\",\r\n                  \"진행해주세요\"\r\n                );\r\n              } else {\r\n                onClickSubmit();\r\n              }\r\n            }}\r\n          >\r\n            {editPostId ? \"기사 수정\" : \"기사 업로드\"}\r\n          </button>\r\n        </div>\r\n      </LGLayout>\r\n    </ArticlePostWrapper>\r\n  );\r\n};\r\n\r\nexport const getServerSideProps = wrapper.getServerSideProps((store) => async ({ req, query }) => {\r\n  const cookie = req ? req.headers.cookie : \"\";\r\n  axios.defaults.headers.Cookie = \"\";\r\n  if (req && cookie) {\r\n    axios.defaults.headers.Cookie = cookie;\r\n  }\r\n  await store.dispatch(getUserInfoAction());\r\n  return {\r\n    props: {},\r\n  };\r\n});\r\n\r\nexport default post;\r\n","module.exports = require(\"@emotion/react/jsx-runtime\");","module.exports = require(\"@emotion/styled/base\");","module.exports = require(\"@reduxjs/toolkit\");","module.exports = require(\"antd\");","module.exports = require(\"axios\");","module.exports = require(\"next-redux-wrapper\");","module.exports = require(\"next/router\");","module.exports = require(\"react\");","module.exports = require(\"react-map-gl\");","module.exports = require(\"react-map-gl-geocoder\");","module.exports = require(\"react-redux\");","module.exports = require(\"react-toastify\");","module.exports = require(\"swr\");"],"names":["React","useCallback","useEffect","useMemo","useState","LGLayout","Editor","useSelector","BORDER_THIN","FLEX_STYLE","noRevalidate","toastErrorMessage","toastSuccessMessage","router","useRouter","CountrySelectMap","AutoCompleteForm","useSWR","fetcher","ImageDragger","useInput","toastConfirmMessage","Select","wrapper","axios","getUserInfoAction","Option","ArticlePostWrapper","post","query","user","state","data","editArticle","articleId","countries","type","setType","selectedCountry","setCountry","title","onChangeTitle","setTitle","label","onChangeLabel","setLabel","prevThumbnail","setPrevThumbnail","fileList","setFileList","ranking","onChangeRanking","setRanking","region","setRegion","upImg","setUpImg","content","setContent","editPostId","setEditPostId","marker","setMarker","latitude","longitude","countryOptions","map","v","i","value","name","code","country","id","lat","lng","thumbnail","uid","status","url","back","onClickSubmit","form","FormData","append","String","pickCountry","find","then","res","push","catch","error","handleTypeChange","width","getServerSideProps","store","req","cookie","headers","defaults","Cookie","dispatch","props"],"sourceRoot":""}