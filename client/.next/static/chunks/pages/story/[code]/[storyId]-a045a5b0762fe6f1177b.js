(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[46],{8751:function(t,e,i){"use strict";i.d(e,{Z:function(){return m}});var n=i(35944),o=i(36928),r=i(57206),a=i(13265),d=i(67294),l=i(42106),c=i(53215),s=(0,l.Z)("article",{target:"ed89bwd0"})("--tw-bg-opacity:1;background-color:rgba(255, 255, 255, var(--tw-bg-opacity));cursor:pointer;padding-bottom:2rem;--tw-shadow:0px 0px 5px rgba(0, 0, 0, 0.15);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow); transition:0.3s all;&:hover{--tw-shadow:0px 0px 15px rgba(0, 0, 0, 0.3);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow); .image-wrapper{img{transform:scale(1.15);}}}.image-wrapper{margin-bottom:1rem;overflow:hidden;position:relative; img{width:100%; height:180px;transition:0.3s all;}.like-comment{position:absolute;bottom:0.5rem;right:0.5rem;--tw-bg-opacity:1;background-color:rgba(255, 255, 255, var(--tw-bg-opacity));padding-top:0.25rem;padding-bottom:0.25rem;padding-left:0.5rem;padding-right:0.5rem;opacity:0.5;border-radius:0.75rem; li{padding:0.25rem;cursor:pointer; .count{margin:0 0.15rem;}.anticon{font-size:1.2rem;}}}}.box-card-info{padding:0 1rem;}p{margin:1rem;margin-bottom:0px;overflow:hidden;;font-size:0.875rem;line-height:1.25rem;font-weight:700; ",(0,c.kA)(1.7,2,"46px"),";}@media (max-width: ",c.oe,"){padding-bottom:1.5rem;margin-bottom:0.75rem; p{",(0,c.kA)(1.7,2,"auto"),";}}"),u=i(11163),m=function(t){var e,i,l=t.story,c=t.isMain,m=(0,d.useCallback)((function(){u.default.push("/story/".concat(null===l||void 0===l?void 0:l.code,"/").concat(null===l||void 0===l?void 0:l.id))}),[]);return(0,n.BX)(s,{className:"article-card-column-wrapper",onClick:m,style:c?{boxShadow:"none",borderRadius:"15px"}:{},children:[(0,n.BX)("div",{style:c?{borderTopLeftRadius:"15px",borderTopRightRadius:"15px"}:{},className:"image-wrapper",children:[(0,n.tZ)("img",{style:c?{borderTopLeftRadius:"15px",borderTopRightRadius:"15px"}:{},src:null===l||void 0===l?void 0:l.thumbnail,alt:"story-image"}),(0,n.BX)("ul",{className:"like-comment",children:[(0,n.BX)("li",{children:[(0,n.tZ)(o.Z,{}),(0,n.tZ)("span",{className:"count",children:null===l||void 0===l||null===(e=l.comments)||void 0===e?void 0:e.length})]}),(0,n.BX)("li",{children:[(0,n.tZ)(r.Z,{}),(0,n.tZ)("span",{className:"count",children:null===l||void 0===l||null===(i=l.likedUser)||void 0===i?void 0:i.length})]})]})]}),(0,n.tZ)("div",{className:"box-card-info",children:(0,n.tZ)(a.Z,{date:null===l||void 0===l?void 0:l.createdAt,user:null===l||void 0===l?void 0:l.user})}),(0,n.tZ)("p",{children:null===l||void 0===l?void 0:l.title})]})}},90066:function(t,e,i){"use strict";i.r(e),i.d(e,{__N_SSP:function(){return U},default:function(){return q}});var n=i(35944),o=i(4942),r=i(42106),a=i(67294),d=i(53215),l=i(49226),c=i(11163),s=i(48818),u=i(84608),m=i(27049),p=i(9669),v=i.n(p),h=i(8212),g=i(73171),f=i(36243),w=i(31296),b=i(3119),Z=i(30653),y=i(61072),x=i(99617),k=(0,r.Z)("section",{target:"e1hcrv8b0"})("margin-top:8rem;margin-bottom:4rem;width:100%; ",(0,d.Yk)("center","center"),";.owner-info-wrapper{",(0,d.Yk)("center","center"),";flex-direction:column;width:40%;position:relative;;}.icon{cursor:pointer; img{width:5rem;height:5rem;border-radius:9999px;;}}.info{.name{margin-top:1rem;text-align:center;font-weight:700;;}.introduce{margin-top:0.75rem;font-size:0.75rem;line-height:1.5rem;text-align:center;;}}.links{margin-top:0.75rem; button{padding-top:0.5rem;padding-bottom:0.5rem;padding-left:0.375rem;padding-right:0.375rem;border-radius:0.375rem;:hover{--tw-bg-opacity:1;background-color:rgba(243, 244, 246, var(--tw-bg-opacity));};}}@media (max-width: ",d.SO,"){.owner-info-wrapper{width:80%;;}}@media (max-width: ",d.oe,"){.owner-info-wrapper{width:100%;;}}"),N=function(t){var e,i=t.story,o=(0,a.useCallback)((function(){c.default.push("/me/".concat(i.user.id))}),[]);return(0,n.tZ)(k,{children:(0,n.BX)("div",{className:"owner-info-wrapper",children:[(0,n.tZ)("span",{id:"user_info",className:"anchor-offset-controller"}),(0,n.tZ)("div",{onClick:o,className:"icon",children:(0,n.tZ)("img",{src:null!==i&&void 0!==i&&null!==(e=i.user)&&void 0!==e&&e.icon?i.user.icon:d.u5,alt:"user_icon"})}),(0,n.BX)("div",{className:"info",children:[(0,n.tZ)("h2",{className:"name",children:null===i||void 0===i?void 0:i.user.name}),(0,n.tZ)("p",{className:"introduce",children:null===i||void 0===i?void 0:i.user.introduce})]}),(0,n.tZ)("div",{className:"links",children:(0,n.tZ)("button",{onClick:o,children:"\ud504\ub85c\ud544 \uad6c\uacbd\uac00\uae30"})})]})})},B=(0,a.memo)(N),X=i(67724),P=i(8812),S=(0,r.Z)("section",{target:"eyhyfgx0"})({width:"66.666667%",marginLeft:"auto",marginRight:"auto",marginTop:"1rem",marginBottom:"5rem"}," .ant-divider{margin:1rem 0;}.pagination{",(0,d.U6)("1rem","1fr 1fr"),";.side-post{transition:0.3s all;",{cursor:"pointer","--tw-shadow":"0px 0px 5px rgba(0, 0, 0, 0.15)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"}," &:hover{",{"--tw-shadow":"0px 0px 15px rgba(0, 0, 0, 0.3)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"}," img{transform:scale(1.1);}}.image-wrapper{",{overflow:"hidden"}," img{transition:0.3s all;",{width:"100%"}," height:180px;}}.post-desc{",{width:"100%",padding:"1.25rem"}," div{h3{",{fontSize:"0.75rem",lineHeight:"1rem",marginBottom:"0.5rem"},";}h4{",(0,d.kA)(1.7,2,"46px")," ",{marginBottom:"0.25rem",fontWeight:"700"},";}}}}.prev-post{.post-desc{",(0,d.Yk)("flex-start","center"),";h3,h4{",{textAlign:"left"},";}.anticon{",{marginRight:"0.75rem"},";}}}.next-post{.post-desc{",(0,d.Yk)("flex-end","center"),";h3,h4{",{textAlign:"right"},";}.anticon{",{marginLeft:"0.75rem"},";}}}}@media (max-width: 750px){",{width:"100%"}," .pagination{gap:0.5rem;}}@media (max-width: 480px){.pagination{",{display:"block"}," .side-post{",(0,d.U6)("","1fr 1.5fr"),";.post-desc{",{padding:"0.5rem"},";}.image-wrapper{img{",{height:"8rem"},";}}}.prev-post{",{marginBottom:"0.5rem"}," direction:rtl;.post-desc{flex-direction:row-reverse;}}}}"),_=function(t){var e,i,o,r,l=t.userId,m=(0,c.useRouter)().query,p=(0,s.ZP)("/story/side/".concat(null===m||void 0===m?void 0:m.storyId,"/").concat(l),u.Z,d.nb).data,v=(0,a.useCallback)((function(t,e){c.default.push("/story/".concat(e,"/").concat(t))}),[]);return(0,n.tZ)(S,{children:(0,n.BX)("div",{className:"pagination",children:[(0,n.BX)("div",{style:null!==p&&void 0!==p&&p.prevPost?{}:{background:d.eR},onClick:function(){var t,e;(null===p||void 0===p?void 0:p.prevPost)&&v(null===p||void 0===p||null===(t=p.prevPost)||void 0===t?void 0:t.id,null===p||void 0===p||null===(e=p.prevPost)||void 0===e?void 0:e.code)},className:"side-post prev-post",children:[(0,n.tZ)("div",{className:"image-wrapper",children:(0,n.tZ)("img",{src:(null===p||void 0===p||null===(e=p.prevPost)||void 0===e?void 0:e.thumbnail)||d.Q7,alt:"pagination_image"})}),(0,n.BX)("div",{className:"post-desc",children:[(0,n.tZ)(X.Z,{}),(0,n.BX)("div",{children:[(0,n.tZ)("h3",{children:"\uc774\uc804\uc5f0\ub300\uae30"}),(0,n.tZ)("h4",{className:"post-title",children:(null===p||void 0===p||null===(i=p.prevPost)||void 0===i?void 0:i.title)||"\uc5f0\ub300\uae30\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})]})]})]}),(0,n.BX)("div",{style:null!==p&&void 0!==p&&p.nextPost?{}:{background:d.eR},onClick:function(){var t,e;(null===p||void 0===p?void 0:p.nextPost)&&v(null===p||void 0===p||null===(t=p.nextPost)||void 0===t?void 0:t.id,null===p||void 0===p||null===(e=p.nextPost)||void 0===e?void 0:e.code)},className:"side-post next-post",children:[(0,n.tZ)("div",{className:"image-wrapper",children:(0,n.tZ)("img",{src:(null===p||void 0===p||null===(o=p.nextPost)||void 0===o?void 0:o.thumbnail)||d.Q7,alt:"pagination_image"})}),(0,n.BX)("div",{className:"post-desc",children:[(0,n.BX)("div",{children:[(0,n.tZ)("h3",{children:"\ub2e4\uc74c\uc5f0\ub300\uae30"}),(0,n.tZ)("h4",{className:"post-title",children:(null===p||void 0===p||null===(r=p.nextPost)||void 0===r?void 0:r.title)||"\uc5f0\ub300\uae30\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})]}),(0,n.tZ)(P.Z,{})]})]})]})})},O=(0,a.memo)(_),C=(0,r.Z)("section",{target:"ejofb4c0"})("position:relative;.comment-header{margin-top:3rem; ",(0,d.Yk)("flex-start","center"),";font-size:1.25rem;line-height:1.75rem;font-weight:700; li{padding:0.5rem;cursor:pointer;:hover{--tw-bg-opacity:1;background-color:rgba(243, 244, 246, var(--tw-bg-opacity));}border-radius:0.75rem; .anticon,.count{margin-right:0.5rem;}}.liked{.anticon{color:",d.Ss,";}}}"),E=i(36928),R=i(27569),j=i(57206),I=i(69926),Y=i(13943),z=i(45145),A=function(t){var e,i=t.story,o=t.revalidateStory,r=(0,l.I0)(),c=(0,a.useState)(!1),m=c[0],p=c[1],h=(0,l.v9)((function(t){return t.user})).user,g=(0,s.ZP)("/comment/".concat(null===i||void 0===i?void 0:i.id,"?postType=story"),u.Z,d.nb),f=g.data,w=g.revalidate;(0,a.useEffect)((function(){var t;h&&i&&(null!==h&&void 0!==h&&null!==(t=h.likeStory)&&void 0!==t&&t.find((function(t){return t.storyId===(null===i||void 0===i?void 0:i.id)}))?p(!0):p(!1))}),[h,i]);var b=(0,a.useCallback)((function(t){h?v().patch("/story/".concat(t,"/").concat(null===i||void 0===i?void 0:i.id)).then((function(){"like"===t?(0,d.bi)("\uc88b\uc544\uc694!\ud83d\udc93"):(0,d.bi)("\uc88b\uc544\uc694 \ucde8\uc18c\ud83d\udc94"),o(),r((0,z.pZ)())})).catch((function(t){throw(0,d.p4)(t),t})):(0,d.p4)("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.")}),[h,i]);return(0,n.BX)(C,{children:[(0,n.tZ)("span",{id:"comment",className:"anchor-offset-controller"}),(0,n.BX)("ul",{className:"comment-header",children:[(0,n.BX)("li",{children:[(0,n.tZ)(E.Z,{}),(0,n.tZ)("span",{className:"count",children:null===f||void 0===f?void 0:f.length}),(0,n.tZ)("span",{children:"\ub313\uae00"})]}),(0,n.BX)("li",{onClick:m?function(){return b("dislike")}:function(){return b("like")},className:m?"liked":"",children:[m?(0,n.tZ)(R.Z,{}):(0,n.tZ)(j.Z,{}),(0,n.tZ)("span",{className:"count",children:null===i||void 0===i||null===(e=i.likedUser)||void 0===e?void 0:e.length}),(0,n.tZ)("span",{children:"\uc88b\uc544\uc694"})]})]}),(0,n.tZ)(I.Z,{revalidateComments:w,isStory:!0}),null===f||void 0===f?void 0:f.map((function(t,e){return(0,n.tZ)(Y.Z,{revalidateComments:w,comment:t},e)}))]})},T=i(9008);function D(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function L(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?D(Object(i),!0).forEach((function(e){(0,o.Z)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):D(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var H=(0,r.Z)("div",{target:"e1617oay0"})("padding-top:6rem;.story-manage-wrapper{",(0,d.Yk)("center","center"),";button{padding-top:0.5rem;padding-bottom:0.5rem;padding-left:1rem;padding-right:1rem;:hover{--tw-bg-opacity:1;background-color:rgba(243, 244, 246, var(--tw-bg-opacity));}border-radius:0.75rem; .anticon{margin-bottom:0.5rem;font-size:1.5rem;line-height:2rem; ",(0,d.Yk)("center","center"),";}}}.post-content{padding-bottom:4rem;position:relative;;}.main-story-article{user-select:none;}"),U=!0,q=function(t){var e=t.initialStories,i=t.initialStory,o=(0,c.useRouter)().query,r=(0,a.useState)(""),p=r[0],k=r[1],N=(0,a.useState)(!1),X=N[0],P=N[1],S=(0,l.v9)((function(t){return t.user})).user,_=(0,s.ZP)("/story/".concat(null===o||void 0===o?void 0:o.code,"/").concat(null===o||void 0===o?void 0:o.storyId,"?uuid=").concat(p),u.Z,L({initialData:i},d.nb)),C=_.data,E=_.revalidate,R=(0,s.g_)((function(t){return"/story?page=".concat(t+1,"&filter=").concat((null===o||void 0===o?void 0:o.filter)||"")}),u.Z,L({initialData:e},d.nb)),j=R.data,I=R.setSize;(0,a.useEffect)((function(){localStorage.getItem("client_identifier")&&k(localStorage.getItem("client_identifier"))}),[]),(0,a.useEffect)((function(){C&&document.querySelectorAll(".post-content > h1 , .post-content > h2 ,.post-content > h3").forEach((function(t,e){var i=document.createElement("span");i.setAttribute("id","header_".concat(e+1)),i.classList.add("anchor-offset-controller"),t.classList.add("anchor-offset-parent"),t.appendChild(i)}))}),[C]),(0,a.useEffect)((function(){var t;(null===S||void 0===S?void 0:S.id)===(null===C||void 0===C||null===(t=C.user)||void 0===t?void 0:t.id)?P(!0):P(!1)}),[S,C]);var Y=(0,a.useCallback)((function(){S&&X&&c.default.push("/story/post?code=".concat(null===C||void 0===C?void 0:C.code,"&storyId=").concat(null===C||void 0===C?void 0:C.id))}),[S,X]),z=(0,a.useCallback)((function(){S&&X&&v().delete("/story/".concat(null===C||void 0===C?void 0:C.id)).then((function(){(0,d.bi)("\uc5f0\ub300\uae30\ub97c \uc131\uacf5\uc801\uc73c\ub85c \uc0ad\uc81c\ud588\uc2b5\ub2c8\ub2e4."),c.default.push("/story")})).catch((function(t){throw(0,d.p4)(t),t}))}),[S,X,C]);return(0,n.BX)(n.HY,{children:[(0,n.tZ)(T.default,{children:(0,n.BX)("title",{children:[null===C||void 0===C?void 0:C.title," - Fall IN Asia"]})}),(0,n.tZ)(H,{children:(0,n.BX)(w.Z,{children:[C&&(0,n.BX)(n.HY,{children:[(0,n.tZ)(y.Z,{story:C}),X&&(0,n.BX)(n.HY,{children:[(0,n.tZ)("h2",{className:"main-title",children:"\uc5f0\ub300\uae30 \uad00\ub9ac (\uc791\uc131\uc790 \uc804\uc6a9)"}),(0,n.BX)("div",{className:"story-manage-wrapper",children:[(0,n.BX)("button",{onClick:Y,className:"edit-btn",children:[(0,n.tZ)(h.Z,{}),"\uc5f0\ub300\uae30 \uc218\uc815"]}),(0,n.BX)("button",{onClick:function(){return(0,f.u)(z,"\uc815\ub9d0 \uc774 \uc5f0\ub300\uae30\ub97c \uc0ad\uc81c\ud560\uae4c\uc694?","\uc0ad\uc81c\ud574\uc8fc\uc138\uc694.")},className:"delete-btn",children:[(0,n.tZ)(g.Z,{}),"\uc5f0\ub300\uae30 \uc0ad\uc81c"]})]})]}),(0,n.BX)("h2",{className:"main-title",children:["\uc5f0\ub300\uae30 \uc704\uce58 ",(0,n.tZ)("span",{children:null===C||void 0===C?void 0:C.region})]}),(0,n.tZ)(x.Z,{lat:null===C||void 0===C?void 0:C.lat,lng:null===C||void 0===C?void 0:C.lng}),(0,n.tZ)(m.Z,{}),(0,n.BX)("article",{className:"main-story-article",children:[(0,n.tZ)("span",{id:"main_post",className:"anchor-offset-controller"}),(0,Z.ZP)(null===C||void 0===C?void 0:C.content)]}),(0,n.tZ)(B,{story:C}),(0,n.tZ)(O,{userId:null===C||void 0===C?void 0:C.user.id}),(0,n.tZ)(A,{revalidateStory:E,story:C})]}),(0,n.tZ)("div",{style:{height:"3rem"}}),(0,n.tZ)(b.Z,{grid:3,gap:"1rem",setSize:I,stories:j})]})})]})}},3119:function(t,e,i){"use strict";var n=i(35944),o=i(67294),r=i(51796),a=i(8751),d=i(53215),l=i(70917),c=function(t,e){return(0,l.iv)("@media (max-width: 1000px){grid-template-columns:repeat(3, 1fr);gap:0.5rem;}@media (max-width: 750px){grid-template-columns:repeat(2, 1fr);gap:0.5rem;}@media (max-width: 460px){display:block;}position:relative; transition:0.3s all;",(0,d.U6)(e,"repeat(".concat(t,",1fr)")),";","")},s=function(t){var e,i=t.stories,d=t.grid,l=t.gap,s=t.setSize,u=(0,o.useState)(!0),m=u[0],p=u[1],v=(0,o.useRef)(null),h=(0,r.Z)(v),g=0===(null===i||void 0===i||null===(e=i[0])||void 0===e?void 0:e.length);(0,o.useEffect)((function(){var t;i&&p((null===(t=i[i.length-1])||void 0===t?void 0:t.length)<10)}),[i]),(0,o.useEffect)((function(){!h||m||g||s((function(t){return t+1})).then((function(){}))}),[h]);var f=i?null===i||void 0===i?void 0:i.flat():[];return(0,n.BX)(n.HY,{children:[(0,n.BX)("div",{css:c(d,l),children:[(0,n.tZ)("span",{id:"article_list",className:"anchor-offset-controller"}),null===f||void 0===f?void 0:f.map((function(t,e){return(0,n.tZ)(a.Z,{story:t},e)}))]}),(0,n.tZ)("div",{ref:v})]})};e.Z=(0,o.memo)(s)},31231:function(t,e,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/story/[code]/[storyId]",function(){return i(90066)}])}},function(t){t.O(0,[634,818,764,150,524,422,731,976,774,888,179],(function(){return e=31231,t(t.s=e);var e}));var e=t.O();_N_E=e}]);