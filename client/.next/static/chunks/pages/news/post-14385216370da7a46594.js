(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[821],{67896:function(t,e,n){"use strict";n.r(e),n.d(e,{__N_SSP:function(){return k},ArticlePostWrapper:function(){return y}});var i=n(35944),a=n(53672),l=n(42106),d=n(67294),o=n(2584),r=n(32599),u=n(49226),c=n(53215),s=n(11163),p=n(96996),v=n(79709),h=n(48818),g=n(84608),m=n(68681),f=n(98981),Z=n(36243),b=n(25582),w=n(9669),S=n.n(w),N=b.Z.Option,k=!0,y=(0,l.Z)("div",{target:"e67dsld0"})(".title-input{padding:0.63rem 1rem;}.option-input{padding-top:0.5rem;padding-bottom:0.5rem;padding-left:1rem;padding-right:1rem;width:50%;;}.autoComplete-form{width:20%;}.editor-btn-wrapper{margin-top:1rem;",(0,c.Yk)("flex-end","center")," button{--tw-bg-opacity:1;background-color:rgba(255, 255, 255, var(--tw-bg-opacity));padding-top:0.75rem;padding-bottom:0.75rem;padding-left:1.5rem;padding-right:1.5rem;font-weight:700;margin-left:0.5rem;border-radius:0.75rem;:hover{--tw-shadow:0px 0px 5px rgba(0, 0, 0, 0.15);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);} ",(0,c.h_)("border"),";transition:0.3s all;}}.mapboxgl-ctrl-geocoder--button{border-radius:9999px;;}.dragger{height:40vh;}");e.default=function(){var t=(0,s.useRouter)().query,e=(0,u.v9)((function(t){return t.user})).user,n=(0,h.ZP)(null!==t&&void 0!==t&&t.articleId?"/article/".concat(null===t||void 0===t?void 0:t.articleId):null,g.Z,c.nb).data,l=(0,h.ZP)("/country",g.Z,c.nb).data,w=(0,d.useState)("\ud0c0\uc785 \uc120\ud0dd"),k=w[0],_=w[1],C=(0,d.useState)(""),x=C[0],E=C[1],P=(0,f.Z)(""),I=(0,a.Z)(P,3),X=I[0],O=I[1],B=I[2],L=(0,f.Z)(""),F=(0,a.Z)(L,3),M=F[0],R=F[1],T=F[2],q=(0,d.useState)(),A=(q[0],q[1]),D=(0,d.useState)([]),U=D[0],W=D[1],Y=(0,f.Z)(""),j=(0,a.Z)(Y,3),z=j[0],G=j[1],H=j[2],J=(0,d.useState)("\uc774\ub984\ubaa8\ub97c \uc5b4\ub518\uac00"),K=J[0],Q=J[1],V=(0,d.useState)(""),$=V[0],tt=V[1],et=(0,d.useState)(""),nt=et[0],it=et[1],at=(0,d.useState)(null),lt=at[0],dt=at[1],ot=(0,d.useState)({latitude:37.50529626491968,longitude:126.98047832475031}),rt=ot[0],ut=ot[1],ct=(0,d.useMemo)((function(){return null===l||void 0===l?void 0:l.map((function(t,e){return{value:t.name,code:t.code}}))}),[l]);(0,d.useEffect)((function(){var t;n&&(Q(null===n||void 0===n?void 0:n.region),B(null===n||void 0===n?void 0:n.title),_(null===n||void 0===n?void 0:n.type),it(null===n||void 0===n?void 0:n.content),E(null===n||void 0===n||null===(t=n.country)||void 0===t?void 0:t.name),dt(null===n||void 0===n?void 0:n.id),ut({latitude:null===n||void 0===n?void 0:n.lat,longitude:null===n||void 0===n?void 0:n.lng}),T((null===n||void 0===n?void 0:n.label)||""),H((null===n||void 0===n?void 0:n.ranking)||""),null!==n&&void 0!==n&&n.thumbnail&&(W([{uid:"1",name:"\uc378\ub124\uc77c",status:"done",url:n.thumbnail}]),A(n.thumbnail)))}),[n]),(0,d.useEffect)((function(){var t;(e||s.default.back(),n)&&((null===e||void 0===e?void 0:e.id)!==(null===n||void 0===n||null===(t=n.user)||void 0===t?void 0:t.id)&&s.default.back())}),[e,n]);var st=(0,d.useCallback)((function(){if(X)if(K)if(nt)if("\ud0c0\uc785 \uc120\ud0dd"!==k){var t=new FormData;$&&t.append("image",$),M&&t.append("label",String(M)),z&&t.append("ranking",String(z)),t.append("title",String(X)),t.append("region",String(K)),t.append("type",String(k)),t.append("content",String(nt)),t.append("lat",String(rt.latitude)),t.append("lng",String(rt.longitude));var e=null===ct||void 0===ct?void 0:ct.find((function(t){return t.value===x}));e?(t.append("code",String(e.code)),n&&t.append("articleId",String(null===n||void 0===n?void 0:n.id)),S().post("/article/".concat(n?"edit":""),t).then((function(t){var e=t.data.data.articleId;s.default.push("/news/".concat(e)),Q(""),tt(""),B(""),_("\ud0c0\uc785 \uc120\ud0dd"),it(""),E(""),T(""),H(""),n?(0,c.bi)("\uae30\uc0ac\ub97c \uc218\uc815\ud588\uc2b5\ub2c8\ub2e4."):(0,c.bi)("\uae30\uc0ac\ub97c \uc131\uacf5\uc801\uc73c\ub85c \uc791\uc131\ud588\uc2b5\ub2c8\ub2e4.")})).catch((function(t){throw(0,c.p4)(t),t}))):(0,c.p4)("\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uad6d\uac00\uc785\ub2c8\ub2e4. \ub2e4\uc2dc \ud655\uc778\ud574\uc8fc\uc138\uc694.")}else(0,c.p4)("\ud0c0\uc785\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694.");else(0,c.p4)("\ub0b4\uc6a9\uc744 \uc791\uc131\ud574\uc8fc\uc138\uc694.");else(0,c.p4)("\uc9c0\ub3c4\uc5d0\uc11c \uc9c0\uc5ed\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694.");else(0,c.p4)("\uc81c\ubaa9\uc744 \uc791\uc131\ud574\uc8fc\uc138\uc694.")}),[X,K,ct,x,nt,$,rt,n,k,M,z]),pt=(0,d.useCallback)((function(t){_(t)}),[]);return(0,i.tZ)(y,{children:(0,i.BX)(o.Z,{children:[(0,i.tZ)("h2",{className:"main-title",children:"\uc81c\ubaa9"}),(0,i.tZ)("input",{value:X,onChange:O,placeholder:"\uae30\uc0ac \uc81c\ubaa9 \uc785\ub825",className:"basic-input title-input",type:"text"}),(0,i.tZ)("h2",{className:"main-title",children:"\uad6d\uac00 \uc9c0\uc815"}),(0,i.tZ)(v.Z,{countryOptions:ct,selectedCountry:x,setCountry:E}),(0,i.tZ)("h2",{className:"main-title",children:"\ub77c\ubca8 \uc124\uc815(\uc120\ud0dd\uc0ac\ud56d)"}),(0,i.tZ)("input",{value:M,onChange:R,placeholder:"\ub77c\ubca8 \ub0b4\uc6a9 \uc785\ub825",className:"basic-input option-input",type:"text"}),(0,i.tZ)("h2",{className:"main-title",children:"\uc21c\uc704 \uc124\uc815(\uc120\ud0dd\uc0ac\ud56d)"}),(0,i.tZ)("input",{value:z,onChange:G,placeholder:"\uc22b\uc790\ub97c \uc785\ub825\ud558\uc138\uc694",className:"basic-input option-input",type:"number"}),(0,i.tZ)("h2",{className:"main-title",children:"\ud0c0\uc785 \uc9c0\uc815"}),(0,i.BX)(b.Z,{className:"type-selector",value:k,onChange:pt,style:{width:"180px"},children:[(0,i.tZ)(N,{value:"\uad00\uad11\ub274\uc2a4",children:"\uad00\uad11\ub274\uc2a4"}),(0,i.tZ)(N,{value:"\ud2b8\ub80c\ub4dc",children:"\ud2b8\ub80c\ub4dc"}),(0,i.tZ)(N,{value:"\uc1fc\ud551",children:"\uc1fc\ud551"}),(0,i.tZ)(N,{value:"\uc774\uc0c9\uccb4\ud5d8",children:"\uc774\uc0c9\uccb4\ud5d8"}),(0,i.tZ)(N,{value:"\uc774\ubca4\ud2b8",children:"\uc774\ubca4\ud2b8"})]}),(0,i.tZ)("h2",{className:"main-title",children:"\uc9c0\uc5ed \uc9c0\uc815"}),(0,i.tZ)(p.Z,{lat:null===n||void 0===n?void 0:n.lat,lng:null===n||void 0===n?void 0:n.lng,marker:rt,setMarker:ut,setRegion:Q}),(0,i.tZ)("h2",{className:"main-title",children:"\uc120\ud0dd \uc9c0\uc5ed"}),(0,i.tZ)("h3",{children:K}),(0,i.tZ)("h2",{className:"main-title",children:"\ub0b4\uc6a9\uc791\uc131"}),(0,i.tZ)(r.Z,{prevContent:null===n||void 0===n?void 0:n.content,setContent:it,isStory:!0}),(0,i.tZ)("h2",{className:"main-title",children:lt?"\uc378\ub124\uc77c \ubcc0\uacbd (\ubbf8\uc120\ud0dd\uc2dc \uae30\uc874 \uc378\ub124\uc77c \uc0ac\uc6a9)":"\uc378\ub124\uc77c \uc5c5\ub85c\ub4dc"}),(0,i.tZ)(m.Z,{fileList:U,setFileList:W,setPrevImageList:A,setUpImg:tt,single:!0}),(0,i.BX)("div",{className:"editor-btn-wrapper",children:[(0,i.tZ)("button",{onClick:function(){return s.default.back()},children:"\ub4a4\ub85c\uac00\uae30"}),(0,i.tZ)("button",{onClick:function(){37.50529626491968===rt.latitude&&126.98047832475031===rt.longitude?(0,Z.u)(st,"\uc9c0\uc5ed \uc88c\ud45c\ub97c \uc785\ub825\ud558\uc9c0 \uc54a\uc73c\uc168\uc5b4\uc694, \uc774\uc0c1\ud0dc\ub85c \uc9c4\ud589\ud560\uae4c\uc694? (\ud604\uc7ac \uc88c\ud45c : \ub300\ud55c\ubbfc\uad6d \uc11c\uc6b8 , \uc774\ub984\ubaa8\ub97c \uc5b4\ub518\uac00)","\uc9c4\ud589\ud574\uc8fc\uc138\uc694"):st()},children:lt?"\uae30\uc0ac \uc218\uc815":"\uae30\uc0ac \uc5c5\ub85c\ub4dc"})]})]})})}},18162:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/news/post",function(){return n(67896)}])}},function(t){t.O(0,[634,937,215,818,737,764,150,258,930,774,888,179],(function(){return e=18162,t(t.s=e);var e}));var e=t.O();_N_E=e}]);