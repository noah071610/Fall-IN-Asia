"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[624],{8751:function(e,t,i){i.d(t,{Z:function(){return p}});var r=i(35944),n=i(36928),o=i(57206),a=i(13265),d=i(67294),l=i(42106),c=i(53215),m=(0,l.Z)("article",{target:"ed89bwd0"})("--tw-bg-opacity:1;background-color:rgba(255, 255, 255, var(--tw-bg-opacity));cursor:pointer;padding-bottom:2rem;--tw-shadow:0px 0px 5px rgba(0, 0, 0, 0.15);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow); transition:0.3s all;&:hover{--tw-shadow:0px 0px 15px rgba(0, 0, 0, 0.3);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow); .image-wrapper{img{transform:scale(1.15);}}}.image-wrapper{margin-bottom:1rem;overflow:hidden;position:relative; img{width:100%; height:180px;transition:0.3s all;}.like-comment{position:absolute;bottom:0.5rem;right:0.5rem;--tw-bg-opacity:1;background-color:rgba(255, 255, 255, var(--tw-bg-opacity));padding-top:0.25rem;padding-bottom:0.25rem;padding-left:0.5rem;padding-right:0.5rem;opacity:0.5;border-radius:0.75rem; li{padding:0.25rem;cursor:pointer; .count{margin:0 0.15rem;}.anticon{font-size:1.2rem;}}}}.box-card-info{padding:0 1rem;}p{margin:1rem;margin-bottom:0px;overflow:hidden;;font-size:0.875rem;line-height:1.25rem;font-weight:700; ",(0,c.kA)(1.7,2,"46px"),";}@media (max-width: ",c.oe,"){padding-bottom:1.5rem;margin-bottom:0.75rem; p{",(0,c.kA)(1.7,2,"auto"),";}}"),s=i(11163),p=function(e){var t,i,l=e.story,c=e.isMain,p=(0,d.useCallback)((function(){s.default.push("/story/".concat(null===l||void 0===l?void 0:l.code,"/").concat(null===l||void 0===l?void 0:l.id))}),[]);return(0,r.BX)(m,{className:"article-card-column-wrapper",onClick:p,style:c?{boxShadow:"none",borderRadius:"15px"}:{},children:[(0,r.BX)("div",{style:c?{borderTopLeftRadius:"15px",borderTopRightRadius:"15px"}:{},className:"image-wrapper",children:[(0,r.tZ)("img",{style:c?{borderTopLeftRadius:"15px",borderTopRightRadius:"15px"}:{},src:null===l||void 0===l?void 0:l.thumbnail,alt:"story-image"}),(0,r.BX)("ul",{className:"like-comment",children:[(0,r.BX)("li",{children:[(0,r.tZ)(n.Z,{}),(0,r.tZ)("span",{className:"count",children:null===l||void 0===l||null===(t=l.comments)||void 0===t?void 0:t.length})]}),(0,r.BX)("li",{children:[(0,r.tZ)(o.Z,{}),(0,r.tZ)("span",{className:"count",children:null===l||void 0===l||null===(i=l.likedUser)||void 0===i?void 0:i.length})]})]})]}),(0,r.tZ)("div",{className:"box-card-info",children:(0,r.tZ)(a.Z,{date:null===l||void 0===l?void 0:l.createdAt,user:null===l||void 0===l?void 0:l.user})}),(0,r.tZ)("p",{children:null===l||void 0===l?void 0:l.title})]})}},13265:function(e,t,i){i.d(t,{W:function(){return u},Z:function(){return h}});var r=i(35944),n=i(42106),o=i(67294),a=i(53215),d=i(11163),l=i(27484),c=i.n(l),m=i(84110),s=i.n(m);i(19132);function p(e){var t=c()(e).format("YYYY-MM-DD"),i=c()(new Date).format("YYYY-MM-DD");return c()(i).diff(t,"day")>0?t:c()(e).fromNow()}c().locale("ko"),c().extend(s());var u=(0,n.Z)("div",{target:"eoxveqm0"})((0,a.Yk)("flex-start","center"),";cursor:pointer; &:hover{p{text-decoration:underline;;}}.icon{position:relative;cursor:pointer;margin-right:0.75rem;;img{width:2.5rem;height:2.5rem;border-radius:9999px;;}.goto-profile-popup{position:absolute;padding-top:0.25rem;padding-bottom:0.25rem;padding-left:0.5rem;padding-right:0.5rem;left:-1.25rem;top:-2rem;--tw-bg-opacity:1;background-color:rgba(107, 114, 128, var(--tw-bg-opacity));border-radius:0.25rem;--tw-shadow:0px 0px 15px rgba(0, 0, 0, 0.3);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);display:none;text-align:center;font-size:0.75rem;line-height:1rem;font-weight:700;--tw-text-opacity:1;color:rgba(255, 255, 255, var(--tw-text-opacity)); white-space:nowrap;}&:hover{img{opacity:0.3;;}.profile-popup{display:block;;}}}p{margin-top:0.5rem; font-size:0.83rem;}span{display:inline-block;}.name-title{font-size:0.875rem;line-height:1.25rem; ",(0,a.Yk)("flex-start","center"),";.comment-date{margin-left:0.6rem;color:",(0,a.Xk)(.3),";font-size:0.75rem;}}.date{padding-top:0.2rem;font-size:0.7rem;color:",(0,a.Xk)(.3),";}"),g=function(e){var t=e.user,i=e.date,n=e.comment,l=(0,o.useCallback)((function(e){e.stopPropagation(),d.default.push("/me/".concat(t.id))}),[t]);return(0,r.BX)(u,{className:"name-space-wrapper",children:[(0,r.BX)("div",{onClick:l,className:"icon",children:[(0,r.tZ)("img",{src:null!==t&&void 0!==t&&t.icon?null===t||void 0===t?void 0:t.icon:a.u5,alt:"user-icon"}),(0,r.tZ)("span",{className:"goto-profile-popup",children:"\ud504\ub85c\ud544 \ubcf4\uae30"})]}),(0,r.BX)("div",{className:"user-info",children:[(0,r.BX)("div",{className:"name-title",children:[(0,r.tZ)("span",{className:"name",children:null===t||void 0===t?void 0:t.name}),n&&(0,r.tZ)("span",{className:"comment-date",children:p(i)})]}),n?(0,r.tZ)("p",{children:n}):(0,r.tZ)("span",{className:"date",children:p(i)})]})]})},h=(0,o.memo)(g)},42697:function(e,t,i){i.d(t,{Z:function(){return C}});var r=i(35944),n=i(42106),o=i(67294),a=i(53215),d=(0,n.Z)("nav",{target:"ehgubkf0"})("@media (max-width: 900px){display:none;;}--tw-bg-opacity:1;background-color:rgba(255, 255, 255, var(--tw-bg-opacity));border-radius:1rem;height:100%;padding:1rem;position:sticky; top:5rem;width:18%;.country{.country-img{cursor:pointer;display:inline-block;width:100%;border-radius:1rem; img{width:100%;height:7rem;--tw-shadow:0px 0px 5px rgba(0, 0, 0, 0.15);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);border-radius:1rem;;}}.country-desc{margin:1rem 0;a{font-weight:700;;font-size:1.4rem;}div{font-weight:700;;margin-top:0.5rem;span{display:block;margin-bottom:0.3rem;}}}}ul{display:block;font-size:1rem;line-height:1.5rem;padding-top:1rem; li{padding-top:0.75rem;padding-bottom:0.75rem;padding-left:0.5rem;padding-right:0.5rem;display:block;cursor:pointer;border-radius:1rem;margin-bottom:0.25rem; ",(0,a.Yk)("flex-start","center"),";.icon{width:1.25rem;height:1.25rem;margin-right:1rem;;}span{font-size:0.875rem;line-height:1.25rem;;}&:hover{background:",a.eR,";}}}.menu-active{background:",a.eR,";}"),l=i(17625),c=i(51436),m=i(41664),s=i(11163),p=i(48818),u=i(84608),g=function(){var e,t,i=(0,s.useRouter)().query,n=(0,p.ZP)(null!==i&&void 0!==i&&i.code?"/country/".concat(null===i||void 0===i?void 0:i.code):null,u.Z,a.nb).data,g=(0,o.useCallback)((function(){null!==i&&void 0!==i&&i.code?s.default.push("/country/".concat(null===i||void 0===i?void 0:i.code)):s.default.push("/")}),[i]);return(0,r.BX)(d,{children:[(0,r.BX)("div",{className:"country",children:[(0,r.tZ)("div",{onClick:g,className:"country-img",children:(0,r.tZ)("img",{src:(null===n||void 0===n?void 0:n.image_src)||a.Of})}),(0,r.BX)("div",{className:"country-desc",children:[(0,r.tZ)("a",{onClick:g,children:(null===n||void 0===n?void 0:n.name)||"\uc544\uc2dc\uc544 \uc804\uccb4"}),n&&(0,r.tZ)("div",{children:(0,r.BX)("span",{children:["\ud3ec\uc2a4\ud305\uc218 : ",(null===n||void 0===n||null===(e=n.moments)||void 0===e?void 0:e.length)+(null===n||void 0===n||null===(t=n.stories)||void 0===t?void 0:t.length)]})})]})]}),(0,r.BX)("ul",{children:[(0,r.tZ)(m.default,{href:n?"/country/".concat(n.code,"?type=community"):"/?type=community",children:(0,r.tZ)("a",{children:(0,r.BX)("li",{className:"community"===(null===i||void 0===i?void 0:i.type)?"menu-active":"",children:[(0,r.tZ)(l.G,{className:"icon",icon:c.yOe}),(0,r.tZ)("span",{children:"\ud55c\uc778 \ucee4\ubba4\ub2c8\ud2f0"})]})})}),(0,r.tZ)(m.default,{href:n?"/country/".concat(n.code,"?type=trip"):"/?type=trip",children:(0,r.tZ)("a",{children:(0,r.BX)("li",{className:"trip"===(null===i||void 0===i?void 0:i.type)?"menu-active":"",children:[(0,r.tZ)(l.G,{className:"icon",icon:c.gR}),(0,r.tZ)("span",{children:"\uc5ec\ud589\uc815\ubcf4 \uacf5\uc720"})]})})}),(0,r.tZ)(m.default,{href:n?"/country/".concat(n.code,"?type=scam+alert"):"/?type=scam+alert",children:(0,r.tZ)("a",{children:(0,r.BX)("li",{className:"scam alert"===(null===i||void 0===i?void 0:i.type)?"menu-active":"",children:[(0,r.tZ)(l.G,{className:"icon",icon:c.RLE}),(0,r.tZ)("span",{children:"\uc0ac\uae30 \uacbd\ubcf4"})]})})}),(0,r.tZ)(m.default,{href:n?"/country/".concat(n.code,"?type=accompany"):"/?type=accompany",children:(0,r.tZ)("a",{children:(0,r.BX)("li",{className:"accompany"===(null===i||void 0===i?void 0:i.type)?"menu-active":"",children:[(0,r.tZ)(l.G,{className:"icon",icon:c.FVb}),(0,r.tZ)("span",{children:"\ub3d9\ud589\uc790 \ubaa8\uc9d1"})]})})}),n?(0,r.tZ)(m.default,{href:"/",children:(0,r.tZ)("a",{children:(0,r.BX)("li",{children:[(0,r.tZ)(l.G,{className:"icon",icon:c.g4A}),(0,r.tZ)("span",{children:"\uc544\uc2dc\uc544 \uc804\uccb4"})]})})}):(0,r.tZ)(m.default,{href:"/country/select",children:(0,r.tZ)("a",{children:(0,r.BX)("li",{children:[(0,r.tZ)(l.G,{className:"icon",icon:c.g4A}),(0,r.tZ)("span",{children:"\uad6d\uac00\uc120\ud0dd"})]})})})]})]})},h=i(44318),v=(0,n.Z)("aside",{target:"e65u1tu0"})("@media (max-width: 900px){display:none;;}--tw-bg-opacity:1;background-color:rgba(255, 255, 255, var(--tw-bg-opacity));border-radius:1rem;height:100%;padding-top:1.5rem;padding-bottom:1.5rem;padding-left:1rem;padding-right:1rem;position:sticky; top:5rem;width:22%;.aside-title{font-size:0.875rem;line-height:1.25rem;font-weight:700;;margin-top:3rem;margin-bottom:1rem;;}.aside-title:first-of-type{margin-top:0px;margin-bottom:1rem;;}li{width:100%;cursor:pointer; .image-wrapper{display:flex;overflow:hidden;border-radius:0.375rem;margin-bottom:1rem; img{transition:0.3s all;width:4rem;height:4rem;border-radius:0.375rem;margin-right:1rem;;}}h4{margin-bottom:0.5rem;}p{",(0,a.kA)(1.3,2,"40px"),";font-weight:700;;font-size:0.94rem;}}"),f=function(){var e=(0,p.ZP)("/moment/latest",u.Z).data,t=(0,p.ZP)("/story/latest",u.Z).data;return(0,r.BX)(v,{children:[(0,r.tZ)("h2",{className:"aside-title",children:"\ucd5c\uadfc \uc5f0\ub300\uae30"}),null===t||void 0===t?void 0:t.map((function(e,t){return(0,r.tZ)(h.Z,{story:e},t)})),(0,r.tZ)("h2",{className:"aside-title",children:"\ucd5c\uadfc \ubaa8\uba58\ud2b8"}),null===e||void 0===e?void 0:e.map((function(e,t){return(0,r.tZ)(h.Z,{moment:e},t)}))]})},b=i(4942),w=i(96419),y=i(46066),Z=i(68985);function k(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function x(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?k(Object(i),!0).forEach((function(t){(0,b.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):k(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var N=(0,n.Z)("section",{target:"e1leyvpp0"})("width:",a.lv,";margin-left:auto;margin-right:auto;border-radius:1rem; padding-top:6.5rem;.slick-arrow{display:none!important;}@media (max-width: 900px){width:100%;padding-left:1rem;padding-right:1rem;;}@media (max-width: ",a.oe,"){padding-top:4rem;padding-left:0px;padding-right:0px;margin:0px;;}.slick-active{z-index:999;}"),X={dots:!1,fade:!0,infinite:!0,speed:300,autoplay:!0,autoplaySpeed:5e3,slidesToShow:1,slidesToScroll:1,nextArrow:(0,r.tZ)(Z.g,{}),prevArrow:(0,r.tZ)(Z.$,{})},B=function(){return(0,r.tZ)(N,{children:(0,r.BX)(y.Z,x(x({},X),{},{children:[(0,r.tZ)(w.Z,{image:"https://user-images.githubusercontent.com/74864925/129447142-48c58d87-d5e8-46ba-9052-8d1b8e1c383e.png",isMain:!0,path:"/",title:"Share your infomation",desc:"\ubaa8\uba58\ud2b8 : \uc5ec\ud589\uc774\ub77c\ub294 \ub9dd\ub9dd\ub300\ud574\uc5d0\uc11c \uae38\uc744 \uc783\uc5c8\ub098\uc694? \ubb3c\uc5b4\ubd10\uc694! \ub3c8\ub4dc\ub294\uac70 \uc544\ub2c8\uc796\uc544\uc694~"}),(0,r.tZ)(w.Z,{image:"https://user-images.githubusercontent.com/74864925/129452165-e9675084-15d1-4891-a9cb-bae6bf9eaf33.png",isMain:!0,link:"https://www.0404.go.kr/dev/newest_list.mofa",title:"I trust We can get over covid-19",desc:"\ud574\uc678\uc548\uc804\uc5ec\ud589 : \uc678\uad50\ubd80\uc5d0\uc11c \ucf54\ub85c\ub09819 \uc785\uad6d\uc81c\ud55c \uc5ec\ubd80\ub97c \ud655\uc778\ud558\uc138\uc694."}),(0,r.tZ)(w.Z,{image:"https://user-images.githubusercontent.com/74864925/129446624-f357679e-af98-41f7-a9ac-4f3dc434a551.png",isMain:!0,path:"/story",title:"Leave and Share your memory",desc:"\uc5f0\ub300\uae30 : \ub2f9\uc2e0\uc758 \uc5ec\uc815\uc5d0\ub294 \uc5b4\ub5a4 \uc77c\uc774 \uc788\uc5c8\ub098\uc694?"})]}))})},O=(0,n.Z)("main",{target:"e6r3qxo0"})("--tw-bg-opacity:1;background-color:rgba(243, 244, 246, var(--tw-bg-opacity)); .layout{width:",a.lv,";margin-left:auto;margin-right:auto;padding-top:2rem;padding-bottom:8rem;display:flex; .layout-middle{width:60%;padding-left:2rem;padding-right:2rem; .main-title{font-size:1rem;line-height:1.5rem;font-weight:700;margin-top:2rem;margin-bottom:1rem;;}.main-title:first-of-type{margin-top:0px;margin-bottom:1rem;;}}}@media (max-width: 900px){.layout{width:100%;padding-left:1rem;padding-right:1rem; .layout-middle{width:100%;padding-left:0px;padding-right:0px; .main-title{font-size:0.875rem;line-height:1.25rem;margin-top:1.75rem;margin-bottom:0.75rem;;}}}}@media (max-width: ",a.oe,"){.layout{padding-left:0.5rem;padding-right:0.5rem;;}}"),C=function(e){var t=e.children;return(0,r.BX)(O,{children:[(0,r.tZ)(B,{}),(0,r.BX)("div",{className:"layout",children:[(0,r.tZ)(g,{}),(0,r.tZ)("div",{className:"layout-middle",children:t}),(0,r.tZ)(f,{})]})]})}},2632:function(e,t,i){var r=i(35944),n=i(4942),o=i(42106),a=i(67294),d=i(1977),l=i(11163),c=i(48818),m=i(84608),s=i(53215),p=i(8751),u=i(46066),g=i(68985);function h(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function v(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?h(Object(i),!0).forEach((function(t){(0,n.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var f={dots:!1,infinite:!1,slidesToShow:2,slidesToScroll:1,autoplay:!1,speed:300,nextArrow:(0,r.tZ)(g.g,{}),prevArrow:(0,r.tZ)(g.$,{}),responsive:[{breakpoint:576,settings:{slidesToShow:1}}]},b=(0,o.Z)(u.Z,{target:"epiepfm1"})(".slick-slide{padding:0.5rem;}.more-card{cursor:pointer;position:relative;border-radius:1rem; height:330px;.more-icon{position:absolute;top:50%;left:50%;--tw-text-opacity:1;color:rgba(209, 213, 219, var(--tw-text-opacity)); transform:translate(-50%,-50%);",(0,s.Yk)("center","center","column"),";.anticon{font-size:3rem;margin-bottom:1rem;}}}@media (max-width: ",s.oe,"){.slick-slide{padding:0px;;}}"),w=(0,o.Z)("div",{target:"epiepfm0"})(""),y=function(e){var t=e.country,i=(0,c.ZP)("/story/popular?code=".concat((null===t||void 0===t?void 0:t.code)||""),m.Z,s.nb).data,n=(0,a.useCallback)((function(){l.default.push("/story")}),[t]);return(0,r.tZ)(r.HY,{children:i&&i.length>0?(0,r.BX)(b,v(v({},f),{},{children:[null===i||void 0===i?void 0:i.map((function(e,t){return(0,r.tZ)(p.Z,{isMain:!0,story:e},t)})),(0,r.tZ)("div",{onClick:n,className:"more-card",children:(0,r.BX)("div",{className:"more-icon",children:[(0,r.tZ)(d.Z,{}),(0,r.tZ)("span",{children:"\ub354\ubcf4\uae30"})]})})]})):(0,r.BX)(w,{children:["\uc544\uc9c1 ",null===t||void 0===t?void 0:t.name,"\uad00\ub828 \uc5f0\ub300\uae30\uac00 \uc5c6\uc5b4\uc694.\ud83d\ude30"]})})};t.Z=(0,a.memo)(y)},90300:function(e,t,i){i.d(t,{Z:function(){return N}});var r=i(35944),n=i(67294),o=i(42106),a=i(53215),d=(0,o.Z)("section",{target:"e1qeygzc0"})(".content-wrapper{margin-top:1rem;padding-bottom:1rem;border-radius:1rem;--tw-bg-opacity:1;background-color:rgba(255, 255, 255, var(--tw-bg-opacity)); .content-filter{padding:1rem;",(0,a.Yk)("flex-end","center")," button{padding-left:0px;padding-right:0px;padding-bottom:0.25rem;margin-left:0.5rem;margin-right:0.5rem; &:hover{font-weight:bold;color:",a.vX,";}}}.no-post{",(0,a.Yk)("center","center","column")," padding-top:2rem;padding-bottom:2rem; img{width:20%;opacity:0.3;;}}}.article-card-wrapper:last-of-type{background:red;}"),l=i(51796),c=i(1977),m=i(36928),s=i(27569),p=i(57206),u=i(13265),g=(0,o.Z)("article",{target:"e1owidme0"})("padding-top:2rem;padding-bottom:2rem;margin-left:1.5rem;margin-right:1.5rem; ",(0,a.h_)("border-bottom"),";.article-header{a{transition:none;&:hover{font-weight:700; color:",a.vX,";}}}.article-top{",(0,a.Yk)("space-between","flex-start"),";padding-bottom:1rem;padding-left:0.25rem;;}.article{.content{cursor:pointer;font-weight:700;padding-left:0.25rem;padding-bottom:1rem;line-height:1.75rem;:hover{text-decoration:underline;};}.moment-image-wrapper{cursor:pointer;margin-bottom:1rem;display:flex; .moment-image{border-radius:1rem;width:9rem;height:9rem;margin-right:0.5rem;;}.moment-more-image{width:9rem;height:9rem;--tw-bg-opacity:1;background-color:rgba(209, 213, 219, var(--tw-bg-opacity));border-radius:1rem; ",(0,a.Yk)("center","center"),";span{--tw-text-opacity:1;color:rgba(255, 255, 255, var(--tw-text-opacity));font-weight:700;font-size:1.875rem;line-height:2.25rem;;}}}}.article-footer{li{cursor:pointer;padding:0.25rem; .count{margin-left:0.25rem;margin-right:0.25rem;;}.anticon{font-size:1rem;}&:hover{background:",a.eR,";border-radius:5px;}}}.liked{.anticon{color:",a.Ss,";}}@media (max-width: ",a.oe,"){padding-top:1rem;padding-bottom:1.5rem;margin-left:1rem;margin-right:1rem; .article{.moment-image-wrapper{.moment-image{border-radius:0.75rem;width:6rem;height:6rem;margin-right:0.5rem;;}.moment-more-image{width:6rem;height:6rem;border-radius:0.75rem; span{font-size:1.5rem;line-height:2rem;;}}}}}"),h=i(11163),v=i(49226),f=i(99398),b=i(9669),w=i.n(b),y=i(45145),Z=function(e){e.revalidateMoments;var t,i,o,d,l,b,Z=e.moment,k=e.isLast,x=(0,v.I0)(),N=(0,v.v9)((function(e){return e.user})).user,X=(0,n.useState)(0),B=X[0],O=X[1],C=(0,n.useState)(!1),j=C[0],z=C[1];(0,n.useEffect)((function(){var e;N&&Z&&(null!==(e=N.likeMoment)&&void 0!==e&&e.find((function(e){return e.momentId===(null===Z||void 0===Z?void 0:Z.id)}))?z(!0):z(!1))}),[N,Z]);var P=(0,n.useCallback)((function(e){N?w().patch("/moment/".concat(e,"/").concat(null===Z||void 0===Z?void 0:Z.id)).then((function(){"like"===e?((0,a.bi)("\uc88b\uc544\uc694!\ud83d\udc93"),O((function(e){return e+1}))):((0,a.bi)("\uc88b\uc544\uc694 \ucde8\uc18c\ud83d\udc94"),O((function(e){return e-1}))),x((0,y.pZ)())})).catch((function(e){throw(0,a.p4)(e),e})):(0,a.p4)("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.")}),[N,Z]),S=(0,n.useCallback)((function(){h.default.push("/country/".concat(Z.code))}),[]),Y=(0,n.useCallback)((function(){h.default.push("/country/".concat(Z.code,"/?type=").concat(Z.type))}),[]),M=(0,n.useCallback)((function(){h.default.push("/country/".concat(Z.code,"/").concat(Z.id))}),[]);return(0,r.BX)(g,{style:k?{borderBottom:"none"}:{},children:[(0,r.BX)("div",{className:"article-top",children:[(0,r.tZ)(u.Z,{user:null===Z||void 0===Z?void 0:Z.user,date:null===Z||void 0===Z?void 0:Z.createdAt}),(0,r.BX)("div",{className:"article-header",children:[(0,r.tZ)("a",{onClick:S,children:null===Z||void 0===Z||null===(t=Z.country)||void 0===t?void 0:t.name}),"/",(0,r.tZ)("a",{onClick:Y,children:null===Z||void 0===Z?void 0:Z.type})]})]}),(0,r.BX)("div",{className:"article",children:[(null===Z||void 0===Z||null===(i=Z.images)||void 0===i?void 0:i.length)>0&&(0,r.BX)("div",{onClick:function(){return h.default.push("/country/".concat(null===Z||void 0===Z?void 0:Z.code,"/").concat(null===Z||void 0===Z?void 0:Z.id))},className:"moment-image-wrapper",children:[null===Z||void 0===Z||null===(o=Z.images)||void 0===o?void 0:o.slice(0,2).map((function(e,t){return(0,r.tZ)("img",{className:"moment-image",src:e.image_src},t)})),(null===Z||void 0===Z||null===(d=Z.images)||void 0===d?void 0:d.length)>2&&(0,r.tZ)("div",{className:"moment-more-image",children:(0,r.tZ)(c.Z,{})})]}),(0,r.tZ)("div",{onClick:function(){return h.default.push("/country/".concat(null===Z||void 0===Z?void 0:Z.code,"/").concat(null===Z||void 0===Z?void 0:Z.id))},className:"content",children:(0,f.Z)(null===Z||void 0===Z?void 0:Z.content)}),(0,r.BX)("ul",{className:"article-footer",children:[(0,r.BX)("li",{onClick:M,children:[(0,r.tZ)(m.Z,{}),(0,r.tZ)("span",{className:"count",children:null===Z||void 0===Z||null===(l=Z.comments)||void 0===l?void 0:l.length}),(0,r.tZ)("span",{children:"\ub313\uae00"})]}),(0,r.BX)("li",{onClick:j?function(){return P("dislike")}:function(){return P("like")},className:j?"liked":"",children:[j?(0,r.tZ)(s.Z,{}):(0,r.tZ)(p.Z,{}),(0,r.tZ)("span",{className:"count",children:(null===Z||void 0===Z||null===(b=Z.likedUser)||void 0===b?void 0:b.length)+B}),(0,r.tZ)("span",{children:"\uc88b\uc544\uc694"})]})]})]})]})},k=(0,n.memo)(Z),x=function(e){var t,i=e.revalidateMoments,o=e.filter,c=e.moments,m=e.setSize,s=e.setFilter,p=(0,n.useState)(!0),u=p[0],g=p[1],h=(0,n.useRef)(null),v=(0,l.Z)(h),f=0===(null===c||void 0===c||null===(t=c[0])||void 0===t?void 0:t.length);(0,n.useEffect)((function(){var e;c&&g((null===(e=c[c.length-1])||void 0===e?void 0:e.length)<10)}),[c]),(0,n.useEffect)((function(){!v||u||f||m((function(e){return e+1})).then((function(){}))}),[v]);var b=c?null===c||void 0===c?void 0:c.flat():[];return(0,r.tZ)(d,{children:(0,r.BX)("div",{className:"content-wrapper",children:[(0,r.BX)("div",{className:"content-filter",children:[(0,r.tZ)("button",{style:""===o?{fontWeight:"bold",color:a.vX}:{},onClick:function(){return s("")},children:"\ucd5c\uc2e0\uc21c"}),(0,r.tZ)("button",{style:"popular"===o?{fontWeight:"bold",color:a.vX}:{},onClick:function(){return s("popular")},children:"\uc778\uae30\uc21c"}),(0,r.tZ)("button",{style:"view"===o?{fontWeight:"bold",color:a.vX}:{},onClick:function(){return s("view")},children:"\uc870\ud68c\uc21c"}),(0,r.tZ)("button",{style:"comment"===o?{fontWeight:"bold",color:a.vX}:{},onClick:function(){return s("comment")},children:"\ub313\uae00\ub9ce\uc740\uc21c"})]}),b.length>0?null===b||void 0===b?void 0:b.map((function(e,t){return b.length-1===t?(0,r.tZ)(k,{revalidateMoments:i,isLast:!0,moment:e},t):(0,r.tZ)(k,{revalidateMoments:i,moment:e},t)})):(0,r.BX)("div",{className:"no-post",children:[(0,r.tZ)("img",{src:a.xA}),(0,r.tZ)("h4",{children:"\uc544\uc9c1 \ubaa8\uba58\ud2b8\uac00 \uc5c6\uc5b4\uc694\ud83d\ude25"})]}),(0,r.tZ)("div",{ref:h})]})})},N=(0,n.memo)(x)}}]);